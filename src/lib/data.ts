/**
 * This file is AUTO-GENERATED by scripts/sync-tools.ts
 * DO NOT EDIT MANUALLY
 *
 * Last generated: 2025-11-18T02:05:59.726Z
 * Source: tools/manifest.json (git submodule)
 */

import { Tool, ToolWithContent } from './types';

export const tools: ToolWithContent[] = [
  {
    "id": "frontend-development",
    "name": "Frontend Development",
    "category": "skills",
    "description": "Create distinctive, production-grade frontend interfaces with exceptional design quality. Covers both new projects and existing codebase workflows.",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "frontend",
      "react",
      "design",
      "ui",
      "nextjs",
      "tailwind",
      "vue",
      "css"
    ],
    "featured": true,
    "files": {
      "main": "SKILL.md",
      "additional": [
        "REFERENCE.md",
        "EXAMPLES.md",
        "EXISTING-CODEBASE-CHECKLIST.md",
        "NEW-PROJECT-DESIGN.md"
      ]
    },
    "installation": {
      "targetDir": ".claude/skills/frontend-development",
      "instructions": "After copying files, ensure the skill is registered in .claude/skills/skill-rules.json"
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/skills/frontend-development"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 5,
    "content": {
      "main": "---\nname: frontend-design\ndescription: Create distinctive, production-grade frontend interfaces with exceptional design quality. Two modes - (1) New projects - bold aesthetic design philosophy including typography, color theory, spatial composition, motion design, visual details, avoiding generic AI aesthetics, creating unforgettable interfaces. (2) Existing codebases - mandatory design language analysis enforcing consistency by scanning layout patterns, typography hierarchy, component structure, spacing, theme systems before implementation. Use when building components, pages, applications, design systems, UI modifications. Covers React, Vue, Next.js, HTML/CSS, Tailwind. Keywords - create component, build page, design interface, add UI, aesthetic design, visual design, typography, animations, spatial layout, design system, consistency, pattern analysis, existing codebase.\n---\n\n# Frontend Design Skill\n\nThis skill provides two distinct workflows for creating production-grade frontend interfaces:\n\n## Scenario Detector\n\n**Answer this question:** Is there an existing codebase with components, pages, or a design system?\n\n### ‚úÖ YES ‚Üí Existing Codebase (Most Common)\n**Use this workflow:** [EXISTING-CODEBASE-CHECKLIST.md](EXISTING-CODEBASE-CHECKLIST.md)\n\n**Purpose:** Enforce design language consistency by analyzing existing patterns before implementation.\n\n**When to use:**\n- Adding components to existing project\n- Creating new pages in existing app\n- Modifying UI in established codebase\n- Working with design system\n\n**Process:** Mandatory 3-phase checklist (Design Analysis ‚Üí Decisions ‚Üí Implementation)\n\n---\n\n### ‚úÖ NO ‚Üí New Project (Greenfield)\n**Use this workflow:** [NEW-PROJECT-DESIGN.md](NEW-PROJECT-DESIGN.md)\n\n**Purpose:** Create bold, distinctive aesthetic design from scratch.\n\n**When to use:**\n- Starting new projects\n- Building standalone components/pages\n- No existing design system to match\n- Full creative freedom\n\n**Process:** Design thinking ‚Üí Aesthetic principles ‚Üí Implementation\n\n---\n\n## Quick Reference\n\n**For consistency in existing codebases:**\n‚Üí [EXISTING-CODEBASE-CHECKLIST.md](EXISTING-CODEBASE-CHECKLIST.md)\n\n**For aesthetic design philosophy:**\n‚Üí [NEW-PROJECT-DESIGN.md](NEW-PROJECT-DESIGN.md)\n\n**For real-world examples:**\n‚Üí [EXAMPLES.md](EXAMPLES.md)\n\n**For deep-dive principles:**\n‚Üí [REFERENCE.md](REFERENCE.md)\n\n---\n\n**Still unsure which scenario applies?** Default to **EXISTING-CODEBASE-CHECKLIST** if there's any existing code to reference.\n",
      "additional": {
        "REFERENCE.md": "# Frontend Design Reference\n\nComprehensive guide to aesthetic principles, advanced techniques, and deep-dive guidance for creating exceptional frontend interfaces.\n\n---\n\n## Table of Contents\n\n1. [Advanced Typography Techniques](#advanced-typography-techniques)\n2. [Color Theory & Application](#color-theory--application)\n3. [Motion Design Principles](#motion-design-principles)\n4. [Spatial Composition Techniques](#spatial-composition-techniques)\n5. [Visual Depth & Atmosphere](#visual-depth--atmosphere)\n6. [Responsive Design Patterns](#responsive-design-patterns)\n7. [Accessibility & Inclusive Design](#accessibility--inclusive-design)\n8. [Performance Optimization](#performance-optimization)\n9. [Design System Patterns](#design-system-patterns)\n\n---\n\n## Advanced Typography Techniques\n\n### Font Pairing Strategies\n\n**Rule of Contrast**\nPair fonts that are different enough to create hierarchy, but harmonious enough to feel cohesive.\n\n**Successful Pairings:**\n```css\n/* Display + Sans */\n--font-display: 'Clash Display', sans-serif;  /* Bold, geometric */\n--font-body: 'Inter', sans-serif;             /* Clean, readable */\n\n/* Serif + Sans */\n--font-display: 'Fraunces', serif;            /* Classic, elegant */\n--font-body: 'Untitled Sans', sans-serif;     /* Modern, neutral */\n\n/* Mono + Sans */\n--font-code: 'JetBrains Mono', monospace;     /* Technical */\n--font-body: 'Work Sans', sans-serif;         /* Professional */\n```\n\n**Font Pairing Framework:**\n1. **Contrast in style** - Serif vs Sans, Geometric vs Humanist\n2. **Harmony in proportion** - Similar x-heights or cap heights\n3. **Shared characteristics** - Similar stroke contrast or terminals\n4. **Appropriate mood** - Both match the aesthetic direction\n\n### Variable Fonts\n\n**Advantages:**\n- Single file, multiple styles\n- Smooth animations between weights/widths\n- Fine-tuned responsive typography\n- Performance benefits\n\n**Implementation:**\n```css\n@font-face {\n  font-family: 'InterVariable';\n  src: url('/fonts/Inter-Variable.woff2') format('woff2');\n  font-weight: 100 900;\n  font-display: swap;\n}\n\n.heading {\n  font-family: 'InterVariable', sans-serif;\n  font-weight: 700;\n\n  @media (max-width: 768px) {\n    font-weight: 600;  /* Lighter weight on mobile */\n  }\n}\n\n/* Animate weight on interaction */\n.button {\n  font-weight: 500;\n  transition: font-weight 0.2s ease;\n}\n\n.button:hover {\n  font-weight: 700;\n}\n```\n\n### Typographic Rhythm\n\n**Vertical Rhythm:**\nConsistent spacing based on baseline grid.\n\n```css\n:root {\n  --baseline: 8px;\n  --line-height: 1.5;\n}\n\nh1 {\n  font-size: 48px;\n  line-height: calc(var(--baseline) * 8);  /* 64px */\n  margin-bottom: calc(var(--baseline) * 4); /* 32px */\n}\n\np {\n  font-size: 16px;\n  line-height: calc(var(--baseline) * 3);  /* 24px */\n  margin-bottom: calc(var(--baseline) * 3); /* 24px */\n}\n```\n\n**Modular Scale:**\nType sizes based on mathematical ratio.\n\n```css\n:root {\n  --ratio: 1.25;  /* Major third */\n  --base-size: 16px;\n}\n\n.text-xs   { font-size: calc(var(--base-size) / var(--ratio) / var(--ratio)); }\n.text-sm   { font-size: calc(var(--base-size) / var(--ratio)); }\n.text-base { font-size: var(--base-size); }\n.text-lg   { font-size: calc(var(--base-size) * var(--ratio)); }\n.text-xl   { font-size: calc(var(--base-size) * var(--ratio) * var(--ratio)); }\n.text-2xl  { font-size: calc(var(--base-size) * var(--ratio) * var(--ratio) * var(--ratio)); }\n```\n\n### Advanced Typography CSS\n\n**Optical alignment:**\n```css\n.heading {\n  /* Hanging punctuation */\n  hanging-punctuation: first last;\n\n  /* Adjust spacing for visual balance */\n  letter-spacing: -0.02em;  /* Tighter tracking for large headings */\n}\n```\n\n**OpenType features:**\n```css\n.body-text {\n  /* Enable ligatures and contextual alternates */\n  font-feature-settings:\n    \"liga\" 1,    /* Standard ligatures */\n    \"calt\" 1,    /* Contextual alternates */\n    \"kern\" 1;    /* Kerning */\n\n  /* Better for body text */\n  text-rendering: optimizeLegibility;\n}\n\n.numbers {\n  /* Tabular figures for alignment */\n  font-variant-numeric: tabular-nums;\n}\n```\n\n---\n\n## Color Theory & Application\n\n### Color Psychology\n\n**Warm Colors** - Energy, passion, urgency\n- Red: Bold, attention-grabbing, urgent\n- Orange: Friendly, enthusiastic, creative\n- Yellow: Optimistic, cheerful, attention\n\n**Cool Colors** - Trust, calm, professionalism\n- Blue: Trustworthy, stable, corporate\n- Green: Natural, growth, health\n- Purple: Luxury, creativity, wisdom\n\n**Neutral Colors** - Balance, sophistication\n- Black: Elegant, powerful, formal\n- White: Clean, minimal, pure\n- Gray: Professional, timeless, neutral\n\n### Advanced Color Systems\n\n**HSL-Based Design:**\nBenefits of HSL over RGB/Hex:\n- Easier to create variations (lighter, darker)\n- Intuitive manipulation (hue, saturation, lightness)\n- Better for programmatic generation\n\n```css\n:root {\n  /* Base color in HSL */\n  --hue: 220;\n  --saturation: 70%;\n  --lightness: 50%;\n\n  /* Generate color scale */\n  --color-50:  hsl(var(--hue), var(--saturation), 95%);\n  --color-100: hsl(var(--hue), var(--saturation), 90%);\n  --color-200: hsl(var(--hue), var(--saturation), 80%);\n  --color-300: hsl(var(--hue), var(--saturation), 70%);\n  --color-400: hsl(var(--hue), var(--saturation), 60%);\n  --color-500: hsl(var(--hue), var(--saturation), 50%);\n  --color-600: hsl(var(--hue), var(--saturation), 40%);\n  --color-700: hsl(var(--hue), var(--saturation), 30%);\n  --color-800: hsl(var(--hue), var(--saturation), 20%);\n  --color-900: hsl(var(--hue), var(--saturation), 10%);\n}\n```\n\n**Semantic Color Tokens:**\n```css\n:root {\n  /* Primitive colors */\n  --blue-500: hsl(220, 70%, 50%);\n  --red-500: hsl(0, 70%, 50%);\n  --green-500: hsl(140, 60%, 45%);\n\n  /* Semantic tokens */\n  --color-primary: var(--blue-500);\n  --color-danger: var(--red-500);\n  --color-success: var(--green-500);\n\n  /* Contextual usage */\n  --button-bg: var(--color-primary);\n  --error-text: var(--color-danger);\n}\n\n/* Easily theme by changing primitives */\n[data-theme=\"orange\"] {\n  --blue-500: hsl(30, 70%, 50%);  /* Override to orange */\n}\n```\n\n### Color Accessibility\n\n**WCAG Contrast Requirements:**\n- **AA** (minimum): 4.5:1 for normal text, 3:1 for large text\n- **AAA** (enhanced): 7:1 for normal text, 4.5:1 for large text\n\n**Testing contrast:**\n```css\n/* Bad: Insufficient contrast */\n.low-contrast {\n  color: #999;           /* Gray */\n  background: #fff;      /* White */\n  /* Ratio: ~2.8:1 - FAILS AA */\n}\n\n/* Good: Meets AA */\n.good-contrast {\n  color: #666;           /* Darker gray */\n  background: #fff;      /* White */\n  /* Ratio: ~5.7:1 - PASSES AA */\n}\n\n/* Better: Meets AAA */\n.best-contrast {\n  color: #333;           /* Even darker */\n  background: #fff;      /* White */\n  /* Ratio: ~12.6:1 - PASSES AAA */\n}\n```\n\n---\n\n## Motion Design Principles\n\n### Easing Functions\n\n**Never use linear easing** - it feels robotic and unnatural.\n\n**Standard easings:**\n```css\n/* Ease-out: Fast start, slow end (entering elements) */\n.enter {\n  animation: slideIn 0.3s cubic-bezier(0, 0, 0.2, 1);\n}\n\n/* Ease-in: Slow start, fast end (exiting elements) */\n.exit {\n  animation: slideOut 0.2s cubic-bezier(0.4, 0, 1, 1);\n}\n\n/* Ease-in-out: Smooth both ends (position changes) */\n.move {\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Spring/bounce: Playful, energetic */\n.bounce {\n  animation: bounce 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);\n}\n```\n\n**Custom easings for character:**\n```css\n:root {\n  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);\n  --ease-bounce: cubic-bezier(0.68, -0.55, 0.27, 1.55);\n  --ease-snap: cubic-bezier(0.87, 0, 0.13, 1);\n}\n```\n\n### Orchestrated Animations\n\n**Staggered delays create rhythm:**\n```css\n.card-grid > .card {\n  opacity: 0;\n  animation: fadeInUp 0.5s var(--ease-smooth) forwards;\n}\n\n.card:nth-child(1) { animation-delay: 0.1s; }\n.card:nth-child(2) { animation-delay: 0.2s; }\n.card:nth-child(3) { animation-delay: 0.3s; }\n.card:nth-child(4) { animation-delay: 0.4s; }\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n```\n\n**Or programmatic delays:**\n```jsx\n{items.map((item, index) => (\n  <Card\n    key={item.id}\n    style={{\n      animationDelay: `${index * 0.1}s`\n    }}\n  />\n))}\n```\n\n### Performance-First Animation\n\n**Use transform and opacity only** - these are GPU-accelerated.\n\n```css\n/* ‚ùå BAD: Causes repaints */\n.slow {\n  transition: width 0.3s, height 0.3s, top 0.3s, left 0.3s;\n}\n\n/* ‚úÖ GOOD: GPU-accelerated */\n.fast {\n  transition: transform 0.3s, opacity 0.3s;\n}\n```\n\n**Will-change hint:**\n```css\n.animated-element {\n  /* Tell browser this will animate */\n  will-change: transform;\n}\n\n/* Remove after animation completes */\n.animated-element.animation-done {\n  will-change: auto;\n}\n```\n\n### Scroll-Triggered Animations\n\n**Intersection Observer pattern:**\n```jsx\nuseEffect(() => {\n  const observer = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          entry.target.classList.add('visible');\n        }\n      });\n    },\n    { threshold: 0.1 }\n  );\n\n  document.querySelectorAll('.reveal-on-scroll').forEach((el) => {\n    observer.observe(el);\n  });\n\n  return () => observer.disconnect();\n}, []);\n```\n\n```css\n.reveal-on-scroll {\n  opacity: 0;\n  transform: translateY(30px);\n  transition: opacity 0.6s var(--ease-smooth),\n              transform 0.6s var(--ease-smooth);\n}\n\n.reveal-on-scroll.visible {\n  opacity: 1;\n  transform: translateY(0);\n}\n```\n\n---\n\n## Spatial Composition Techniques\n\n### Grid Breaking\n\n**Start with a grid, then selectively break it:**\n\n```css\n.grid-container {\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  gap: 1.5rem;\n}\n\n/* Standard grid items */\n.grid-item {\n  grid-column: span 4;\n}\n\n/* Break the grid for emphasis */\n.featured-item {\n  grid-column: 1 / -1;      /* Full width */\n  grid-row: span 2;         /* Double height */\n}\n\n.offset-item {\n  grid-column: 3 / 11;      /* Offset from edges */\n}\n```\n\n### Asymmetric Layouts\n\n**Visual tension creates interest:**\n\n```css\n/* Asymmetric two-column */\n.asymmetric-layout {\n  display: grid;\n  grid-template-columns: 2fr 1fr;  /* 66% / 33% split */\n  gap: 3rem;\n}\n\n/* Diagonal composition */\n.diagonal-section {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  transform: rotate(-2deg);  /* Subtle tilt */\n}\n\n.diagonal-section > * {\n  transform: rotate(2deg);   /* Counter-rotate content */\n}\n```\n\n### Z-Index Layering\n\n**Create depth through layering:**\n\n```css\n:root {\n  /* Z-index scale */\n  --z-base: 0;\n  --z-elevated: 10;\n  --z-sticky: 100;\n  --z-overlay: 1000;\n  --z-modal: 10000;\n}\n\n.layered-composition {\n  position: relative;\n}\n\n.background-shape {\n  position: absolute;\n  z-index: var(--z-base);\n  opacity: 0.1;\n}\n\n.content {\n  position: relative;\n  z-index: var(--z-elevated);\n}\n\n.floating-element {\n  position: absolute;\n  z-index: calc(var(--z-elevated) + 1);\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n}\n```\n\n---\n\n## Visual Depth & Atmosphere\n\n### Shadow System\n\n**Layered shadows for realism:**\n\n```css\n:root {\n  /* Elevation system */\n  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);\n  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1),\n               0 2px 4px rgba(0, 0, 0, 0.06);\n  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1),\n               0 4px 6px rgba(0, 0, 0, 0.05);\n  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1),\n               0 10px 10px rgba(0, 0, 0, 0.04);\n}\n\n/* Colored shadows for vibrancy */\n.vibrant-button {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);\n}\n```\n\n### Gradient Meshes\n\n**Complex, organic color transitions:**\n\n```css\n.gradient-mesh {\n  background:\n    radial-gradient(at 20% 30%, hsl(220, 70%, 60%) 0px, transparent 50%),\n    radial-gradient(at 80% 20%, hsl(280, 70%, 60%) 0px, transparent 50%),\n    radial-gradient(at 40% 80%, hsl(180, 70%, 50%) 0px, transparent 50%),\n    radial-gradient(at 90% 70%, hsl(30, 80%, 60%) 0px, transparent 50%),\n    hsl(240, 20%, 10%);\n}\n```\n\n### Texture & Grain\n\n**Subtle texture adds tactility:**\n\n```css\n.noise-texture {\n  position: relative;\n}\n\n.noise-texture::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' /%3E%3C/svg%3E\");\n  opacity: 0.03;\n  pointer-events: none;\n}\n```\n\n### Glass Morphism\n\n**Frosted glass effect:**\n\n```css\n.glass {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px) saturate(180%);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 12px;\n}\n\n/* Dark mode variation */\n[data-theme=\"dark\"] .glass {\n  background: rgba(0, 0, 0, 0.3);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n```\n\n---\n\n## Responsive Design Patterns\n\n### Container Queries\n\n**Component-based responsive design:**\n\n```css\n.card-container {\n  container-type: inline-size;\n}\n\n.card {\n  display: flex;\n  flex-direction: column;\n}\n\n/* Respond to container width, not viewport */\n@container (min-width: 400px) {\n  .card {\n    flex-direction: row;\n  }\n}\n```\n\n### Fluid Typography\n\n**Smooth scaling between viewports:**\n\n```css\n:root {\n  --fluid-min-width: 320;\n  --fluid-max-width: 1200;\n\n  --fluid-screen: 100vw;\n  --fluid-bp: calc(\n    (var(--fluid-screen) - var(--fluid-min-width) / 16 * 1rem) /\n    (var(--fluid-max-width) - var(--fluid-min-width))\n  );\n}\n\nh1 {\n  font-size: clamp(2rem, calc(2rem + 2 * var(--fluid-bp)), 4rem);\n}\n\n/* Or use modern clamp directly */\nh1 {\n  font-size: clamp(2rem, 5vw, 4rem);\n  /* Min: 2rem, Preferred: 5vw, Max: 4rem */\n}\n```\n\n---\n\n## Accessibility & Inclusive Design\n\n### Focus Management\n\n**Visible, clear focus indicators:**\n\n```css\n/* Remove default outline, add custom */\n:focus {\n  outline: none;\n}\n\n:focus-visible {\n  outline: 2px solid var(--color-primary);\n  outline-offset: 2px;\n  border-radius: 4px;\n}\n\n/* High contrast for keyboard users */\n.button:focus-visible {\n  outline: 3px solid var(--color-primary);\n  outline-offset: 4px;\n  box-shadow: 0 0 0 6px rgba(var(--primary-rgb), 0.2);\n}\n```\n\n### Screen Reader Considerations\n\n**Visually hidden but accessible:**\n\n```css\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n```\n\n```jsx\n<button>\n  <Icon />\n  <span className=\"sr-only\">Open menu</span>\n</button>\n```\n\n### Reduced Motion\n\n**Respect user preferences:**\n\n```css\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n```\n\n---\n\n## Performance Optimization\n\n### Critical CSS\n\n**Inline critical CSS, defer rest:**\n\n```html\n<head>\n  <!-- Critical CSS inline -->\n  <style>\n    /* Above-the-fold styles */\n    body { margin: 0; font-family: system-ui; }\n    .header { /* ... */ }\n  </style>\n\n  <!-- Defer non-critical CSS -->\n  <link rel=\"preload\" href=\"/styles/main.css\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\">\n  <noscript><link rel=\"stylesheet\" href=\"/styles/main.css\"></noscript>\n</head>\n```\n\n### Image Optimization\n\n**Modern formats with fallbacks:**\n\n```jsx\n<picture>\n  <source srcSet=\"/image.avif\" type=\"image/avif\" />\n  <source srcSet=\"/image.webp\" type=\"image/webp\" />\n  <img src=\"/image.jpg\" alt=\"Description\" loading=\"lazy\" />\n</picture>\n```\n\n---\n\n## Design System Patterns\n\n### Token Architecture\n\n**Layered token system:**\n\n```css\n:root {\n  /* Layer 1: Primitive tokens */\n  --color-blue-500: hsl(220, 70%, 50%);\n  --color-red-500: hsl(0, 70%, 50%);\n  --spacing-4: 1rem;\n\n  /* Layer 2: Semantic tokens */\n  --color-primary: var(--color-blue-500);\n  --color-danger: var(--color-red-500);\n  --button-padding: var(--spacing-4);\n\n  /* Layer 3: Component tokens */\n  --button-bg: var(--color-primary);\n  --button-text: white;\n  --button-padding-x: var(--button-padding);\n}\n```\n\n---\n\n**This reference provides deep-dive guidance. For workflows, see:**\n- [SKILL.md](SKILL.md) - Scenario router\n- [EXISTING-CODEBASE-CHECKLIST.md](EXISTING-CODEBASE-CHECKLIST.md) - Consistency workflow\n- [NEW-PROJECT-DESIGN.md](NEW-PROJECT-DESIGN.md) - Aesthetic philosophy\n- [EXAMPLES.md](EXAMPLES.md) - Real-world case studies\n",
        "EXAMPLES.md": "# Examples & Case Studies\n\nReal-world examples demonstrating correct and incorrect application of frontend design principles.\n\n---\n\n## Table of Contents\n\n1. [Case Study: Blog Search Bar (Design Consistency)](#case-study-blog-search-bar)\n2. [Example: Component Reuse Decision Matrix](#example-component-reuse-decision)\n3. [Example: Typography Consistency](#example-typography-consistency)\n4. [Example: Layout Pattern Matching](#example-layout-pattern-matching)\n5. [Anti-Example: Generic AI Slop](#anti-example-generic-ai-slop)\n\n---\n\n## Case Study: Blog Search Bar\n\n**Context:** Adding a search bar to a blog page in an existing Next.js application.\n\n### ‚ùå WRONG APPROACH (Autopilot Mode)\n\n**What happened:**\n```\nUser: \"Blog page needs a search bar\"\nAssistant: [Sees SearchBar component exists] ‚Üí [Pastes component into blog page] ‚Üí Done\n```\n\n**Implementation:**\n```tsx\n// Blog page\n<section className=\"py-6 px-6\">\n  <div className=\"max-w-5xl mx-auto\">\n    <SearchBar value={searchQuery} onChange={setSearchQuery} />\n  </div>\n</section>\n\n// SearchBar component (from tools page)\nexport default function SearchBar({ value, onChange }: SearchBarProps) {\n  return (\n    <div className=\"relative max-w-2xl mx-auto\">  {/* ‚Üê PROBLEM: Centered with narrow container */}\n      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4\" />\n      <Input value={value} onChange={onChange} className=\"pl-10\" />\n    </div>\n  );\n}\n```\n\n**Result:**\n- ‚ùå Search bar centered on left-aligned page\n- ‚ùå max-w-2xl container inside max-w-5xl container\n- ‚ùå Visual inconsistency with rest of blog page\n- ‚ùå Breaks design language\n\n**Visual outcome:**\n```\nBlog Page (LEFT-ALIGNED, max-w-5xl)\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Blog                                            ‚îÇ\n‚îÇ Real-world guides...                            ‚îÇ\n‚îÇ                                                 ‚îÇ\n‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îÇ  ‚Üê Centered, narrow\n‚îÇ         ‚îÇ [Search bar]     ‚îÇ                    ‚îÇ\n‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îÇ\n‚îÇ                                                 ‚îÇ\n‚îÇ [All Posts - left-aligned cards]                ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### ‚úÖ RIGHT APPROACH (Design-Thinking Mode)\n\n**Process:**\n\n**Phase 1: Design Language Analysis**\n\n```markdown\n## Design Language Analysis\n\n### Files Scanned\n- src/app/blog/page.tsx (blog landing page)\n- src/app/page.tsx (tools page for comparison)\n- src/components/SearchBar.tsx\n- src/components/CategoryFilter.tsx\n- src/app/globals.css\n\n### Layout Patterns\n- Blog page: LEFT-ALIGNED layout throughout\n- All blog sections use max-w-5xl container\n- Category filter buttons are left-aligned\n- Blog cards grid is left-aligned\n\n- Tools page (for comparison): CENTERED layout\n- Tools hero uses max-w-3xl centered\n- Tools SearchBar uses max-w-2xl centered\n\n**Key insight:** Blog page has CONSISTENT left-aligned pattern with max-w-5xl containers.\n\n### Component Patterns\n- SearchBar component exists with built-in max-w-2xl mx-auto (centered)\n- This pattern works for tools page but NOT for blog page\n- Category filter on blog page is left-aligned (not centered)\n```\n\n**Phase 2: Design Decisions**\n\n```markdown\n## Design Decisions\n\n### Pattern Application\nBlog page requires LEFT-ALIGNED full-width search within max-w-5xl container.\nCannot use SearchBar's centered max-w-2xl pattern - would break consistency.\n\n### Component Approach\nOptions:\n1. Add width/alignment variant props to SearchBar component\n2. Create inline search input specifically for blog page\n3. Create new FullWidthSearchBar component\n\nDecision: Option 1 - Extend SearchBar with optional props\n- Maintains component reuse\n- Allows flexibility for different layout contexts\n- Avoids code duplication\n\n### Consistency Requirements\nMUST maintain:\n- max-w-5xl container (matches rest of blog page)\n- Full width within container (left-aligned, not centered)\n- Same input styling (h-11, pl-10, bg-card, search icon)\n- Same search functionality\n\nCAN vary:\n- Container width and alignment (adapts to page context)\n```\n\n**Phase 3: Implementation**\n\n```tsx\n// Enhanced SearchBar component with layout props\ninterface SearchBarProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  fullWidth?: boolean;  // New prop\n}\n\nexport default function SearchBar({\n  value,\n  onChange,\n  placeholder = \"Search...\",\n  fullWidth = false  // Default to centered (backward compatible)\n}: SearchBarProps) {\n  return (\n    <div className={`relative ${fullWidth ? 'w-full' : 'max-w-2xl mx-auto'}`}>\n      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4\" />\n      <Input\n        type=\"text\"\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder={placeholder}\n        className=\"w-full pl-10 pr-4 h-11 bg-card\"\n      />\n    </div>\n  );\n}\n\n// Blog page usage\n<section className=\"py-6 px-6\">\n  <div className=\"max-w-5xl mx-auto\">\n    <SearchBar\n      value={searchQuery}\n      onChange={setSearchQuery}\n      placeholder=\"Search posts by title, author, or tags...\"\n      fullWidth={true}  // Matches blog's left-aligned pattern\n    />\n  </div>\n</section>\n\n// Tools page usage (unchanged, backward compatible)\n<section className=\"py-6 px-6\">\n  <div className=\"max-w-5xl mx-auto\">\n    <SearchBar\n      value={searchQuery}\n      onChange={setSearchQuery}\n      // No fullWidth prop = defaults to centered\n    />\n  </div>\n</section>\n```\n\n**Result:**\n- ‚úÖ Search bar matches blog page's left-aligned layout\n- ‚úÖ Consistent max-w-5xl container width\n- ‚úÖ Component reuse with flexibility\n- ‚úÖ Backward compatible (tools page unchanged)\n- ‚úÖ Design language preserved\n\n**Visual outcome:**\n```\nBlog Page (LEFT-ALIGNED, max-w-5xl)\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Blog                                            ‚îÇ\n‚îÇ Real-world guides...                            ‚îÇ\n‚îÇ                                                 ‚îÇ\n‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  ‚Üê Full width, left-aligned\n‚îÇ ‚îÇ [Search bar]                                ‚îÇ ‚îÇ\n‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ\n‚îÇ                                                 ‚îÇ\n‚îÇ [All Posts - left-aligned cards]                ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### Key Lessons\n\n1. **Don't skip analysis** - The checklist exists for a reason\n2. **Scan multiple files** - Understanding context requires comprehensive analysis\n3. **Document patterns** - Explicit output makes thinking visible\n4. **Consider reuse vs creation** - Adapt existing components when possible\n5. **Match the context** - Blog's left-aligned pattern ‚â† Tools' centered pattern\n\n---\n\n## Example: Component Reuse Decision\n\n**Scenario:** Need a card component for a new dashboard section.\n\n### Analysis\n\n**Existing components found:**\n1. `ToolCard` - Border, rounded corners, hover effect, vertical layout\n2. `BlogPostCard` - Border, rounded corners, gradient header, vertical layout\n3. `FeatureCard` - No border, shadow effect, horizontal layout\n\n### Decision Matrix\n\n| Option | Pros | Cons | Decision |\n|--------|------|------|----------|\n| Reuse ToolCard | Matches border/rounded style | Vertical layout might not fit | ‚ùå Layout mismatch |\n| Reuse FeatureCard | Horizontal layout fits | No border/rounded style | ‚ùå Style mismatch |\n| Create DashboardCard | Perfect fit for needs | New component = maintenance | ‚ö†Ô∏è Only if truly different |\n| **Extend ToolCard with layout prop** | Reuses existing + flexible | Small refactor needed | ‚úÖ **Best choice** |\n\n### Implementation\n\n```tsx\n// Extended ToolCard with layout variant\ninterface ToolCardProps {\n  tool: Tool;\n  layout?: 'vertical' | 'horizontal';\n}\n\nexport default function ToolCard({ tool, layout = 'vertical' }: ToolCardProps) {\n  const isHorizontal = layout === 'horizontal';\n\n  return (\n    <div className={`border rounded-lg p-4 hover:border-foreground/20 transition-all\n      ${isHorizontal ? 'flex items-center gap-4' : 'flex flex-col'}`}\n    >\n      {/* Content adapts to layout */}\n    </div>\n  );\n}\n```\n\n---\n\n## Example: Typography Consistency\n\n**Scenario:** Adding a new \"About\" page to existing site.\n\n### Analysis Output\n\n```markdown\n## Typography Patterns (from existing pages)\n\n### Heading Hierarchy\n- H1: text-3xl md:text-4xl, font-semibold, tracking-tight\n- H2: text-xl md:text-2xl, font-semibold\n- H3: text-lg, font-medium\n\n### Body Text\n- Default: text-base, leading-relaxed\n- Small: text-sm\n- Meta/timestamps: text-xs, text-muted-foreground\n\n### Font Family\n- Primary: Inter with fallbacks\n- No display font used\n- No monospace needed (no code samples)\n```\n\n### Correct Implementation\n\n```tsx\n// About page - matches existing hierarchy\n<div className=\"max-w-3xl mx-auto\">\n  <h1 className=\"text-3xl md:text-4xl font-semibold tracking-tight mb-4\">\n    About Us\n  </h1>\n\n  <p className=\"text-base leading-relaxed mb-6\">\n    Our story begins...\n  </p>\n\n  <h2 className=\"text-xl md:text-2xl font-semibold mb-3\">\n    Our Mission\n  </h2>\n\n  <p className=\"text-base leading-relaxed\">\n    We believe in...\n  </p>\n</div>\n```\n\n### ‚ùå Incorrect Implementation\n\n```tsx\n// DON'T: Different sizes, weights, tracking\n<div className=\"max-w-3xl mx-auto\">\n  <h1 className=\"text-5xl font-bold tracking-wide mb-6\">  {/* ‚Üê Too large, too bold */}\n    About Us\n  </h1>\n\n  <p className=\"text-lg leading-normal mb-8\">  {/* ‚Üê Larger than existing pages */}\n    Our story begins...\n  </p>\n\n  <h2 className=\"text-2xl font-bold mb-4\">  {/* ‚Üê font-bold instead of font-semibold */}\n    Our Mission\n  </h2>\n</div>\n```\n\n---\n\n## Example: Layout Pattern Matching\n\n**Scenario:** Adding a \"Pricing\" page.\n\n### Pattern Analysis\n\n**Existing page patterns:**\n- Home: Centered hero (max-w-3xl) ‚Üí Wide content (max-w-5xl)\n- Blog: All sections left-aligned (max-w-5xl)\n- Tools: Centered hero (max-w-3xl) ‚Üí Wide grid (max-w-5xl)\n\n**Decision:** Pricing is marketing content, matches \"Home\" pattern.\n\n### Correct Implementation\n\n```tsx\n// Pricing page - matches Home pattern\nexport default function PricingPage() {\n  return (\n    <main>\n      {/* Hero: Centered, narrow */}\n      <section className=\"py-12 px-6\">\n        <div className=\"max-w-3xl mx-auto text-center\">\n          <h1 className=\"text-3xl md:text-4xl font-semibold\">\n            Simple, Transparent Pricing\n          </h1>\n        </div>\n      </section>\n\n      {/* Plans: Wide, centered grid */}\n      <section className=\"py-8 px-6\">\n        <div className=\"max-w-5xl mx-auto\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {/* Pricing cards */}\n          </div>\n        </div>\n      </section>\n    </main>\n  );\n}\n```\n\n---\n\n## Anti-Example: Generic AI Slop\n\n### ‚ùå The Problem\n\n**Request:** \"Create a landing page for a SaaS product\"\n\n**Generic AI Output:**\n```tsx\n// Predictable, seen-it-before structure\n<main className=\"bg-white\">\n  {/* Purple gradient hero */}\n  <section className=\"bg-gradient-to-r from-purple-600 to-blue-500 text-white py-20\">\n    <div className=\"max-w-4xl mx-auto text-center\">\n      <h1 className=\"text-5xl font-bold mb-6\">\n        Revolutionize Your Workflow\n      </h1>\n      <p className=\"text-xl mb-8\">\n        The all-in-one platform for modern teams\n      </p>\n      <button className=\"bg-white text-purple-600 px-8 py-3 rounded-lg\">\n        Get Started\n      </button>\n    </div>\n  </section>\n\n  {/* Three feature cards */}\n  <section className=\"py-20\">\n    <div className=\"max-w-6xl mx-auto grid grid-cols-3 gap-8\">\n      <Card icon=\"‚ö°\" title=\"Fast\" description=\"Lightning fast performance\" />\n      <Card icon=\"üîí\" title=\"Secure\" description=\"Bank-level security\" />\n      <Card icon=\"üìà\" title=\"Scalable\" description=\"Grows with you\" />\n    </div>\n  </section>\n\n  {/* Testimonials */}\n  {/* CTA */}\n</main>\n```\n\n**Font:** Inter (of course)\n**Colors:** Purple gradient (of course)\n**Layout:** Centered everything (of course)\n\n**Problem:** Indistinguishable from 1000 other AI-generated SaaS pages.\n\n### ‚úÖ Better Approach\n\n**Apply design thinking:**\n- What makes THIS product different?\n- Who is the audience? (Technical? Creative? Enterprise?)\n- What feeling should the design evoke?\n- What's ONE memorable element?\n\n**Example re-design (Brutalist/Technical Direction):**\n```tsx\n// Bold, distinctive approach\n<main className=\"bg-black text-green-400 font-mono\">\n  {/* Terminal-style hero */}\n  <section className=\"min-h-screen p-6 flex items-center\">\n    <div className=\"max-w-4xl\">\n      <pre className=\"text-sm mb-4\">$ initialize_revolution.sh</pre>\n      <h1 className=\"text-6xl font-bold mb-4 glitch-effect\">\n        SYSTEM<br/>\n        OVERRIDE\n      </h1>\n      <p className=\"text-lg text-green-300 mb-8 max-w-xl\">\n        For developers who don't compromise. Raw power. Zero abstraction.\n      </p>\n      <div className=\"flex gap-4\">\n        <button className=\"border-2 border-green-400 px-6 py-2 hover:bg-green-400 hover:text-black transition-colors\">\n          &gt; ssh access@deploy\n        </button>\n      </div>\n    </div>\n  </section>\n\n  {/* Asymmetric feature layout */}\n  <section className=\"p-6\">\n    <div className=\"max-w-7xl mx-auto grid grid-cols-12 gap-4\">\n      <div className=\"col-span-8 border-2 border-green-400 p-8\">\n        {/* Main feature */}\n      </div>\n      <div className=\"col-span-4 border-2 border-green-400 p-4\">\n        {/* Stats ticker */}\n      </div>\n    </div>\n  </section>\n</main>\n```\n\n**Distinctive elements:**\n- Terminal/command-line aesthetic\n- Monospace typography\n- High-contrast green-on-black\n- Asymmetric grid layout\n- Technical/hacker vibe\n- Memorable and specific to audience\n\n---\n\n## More Examples\n\nFor additional examples and techniques, see:\n- [REFERENCE.md](REFERENCE.md#advanced-techniques) - Deep-dive patterns\n- [NEW-PROJECT-DESIGN.md](NEW-PROJECT-DESIGN.md) - Aesthetic philosophy\n- [EXISTING-CODEBASE-CHECKLIST.md](EXISTING-CODEBASE-CHECKLIST.md) - Consistency workflow\n",
        "EXISTING-CODEBASE-CHECKLIST.md": "# Existing Codebase: Design Consistency Checklist\n\n**‚ö†Ô∏è MANDATORY WORKFLOW FOR EXISTING CODEBASES**\n\nWhen adding components, pages, or UI elements to an existing codebase, you MUST complete this analysis and OUTPUT your findings BEFORE writing any code. This prevents design language inconsistencies.\n\n---\n\n## Phase 1: Design Language Analysis (REQUIRED OUTPUT)\n\n**YOU MUST OUTPUT A \"DESIGN LANGUAGE ANALYSIS\" SECTION** showing:\n\n### 1. Files Scanned\n- List specific files you examined (components, pages, layouts)\n- Minimum 3-5 related files\n\n### 2. Layout Patterns Identified\n- Document: Centered vs left-aligned content\n- Document: Container max-widths used (e.g., max-w-2xl, max-w-5xl, max-w-7xl)\n- Document: Spacing patterns (section padding, element gaps)\n- Document: Grid systems and responsive breakpoints\n\n### 3. Typography Patterns Identified\n- Document: Font families used (primary, display, mono)\n- Document: Heading hierarchy (h1, h2, h3 styles)\n- Document: Font sizes, weights, line heights\n- Document: Text colors and muted text patterns\n\n### 4. Component Patterns Identified\n- Document: How similar existing components are structured\n- Document: Reusable UI components available (buttons, inputs, cards)\n- Document: State management patterns\n- Document: Animation and interaction patterns\n\n### 5. Color & Theme Patterns\n- Document: CSS variables or theme system used\n- Document: Color palette (background, foreground, accent, muted)\n- Document: Light/dark mode approach\n\n### Example Output Format\n\n```markdown\n## Design Language Analysis\n\n### Files Scanned\n- src/app/page.tsx (tools landing page)\n- src/app/blog/page.tsx (blog landing page)\n- src/components/SearchBar.tsx\n- src/components/ToolCard.tsx\n- src/app/globals.css\n\n### Layout Patterns\n- Blog page: LEFT-ALIGNED with max-w-5xl containers\n- Tools page: CENTERED hero with max-w-3xl, then max-w-5xl for content\n- Consistent: py-8 px-6 section padding\n- Consistent: max-w-5xl for main content areas\n\n### Typography Patterns\n- Font: Inter with fallbacks\n- H1: text-3xl md:text-4xl, font-semibold\n- Body: text-base, text-sm for meta\n- Muted text: text-muted-foreground\n\n### Component Patterns\n- SearchBar: Exists, uses max-w-2xl centered layout\n- Cards: Border, rounded-lg, hover states\n- Inputs: h-11 height, pl-10 with icon, bg-card background\n\n### Color & Theme\n- Dark theme via CSS variables\n- Background: hsl(0 0% 7%)\n- Muted: hsl(0 0% 60%)\n```\n\n---\n\n## Phase 2: Design Decisions (REQUIRED OUTPUT)\n\n**YOU MUST OUTPUT A \"DESIGN DECISIONS\" SECTION** documenting:\n\n### 1. Which patterns apply to this new component/page?\n- What layout approach matches the context?\n- What typography styles should be used?\n- What spacing values maintain consistency?\n\n### 2. Should you adapt existing components or create new ones?\n- Can existing components be reused as-is?\n- Do existing components need props/variants added?\n- Is a new component justified, or would it create inconsistency?\n\n### 3. What are the consistency requirements?\n- What MUST stay the same (e.g., container width on blog pages)\n- What CAN vary (e.g., component-specific details)\n\n### Example Output Format\n\n```markdown\n## Design Decisions\n\n### Pattern Application\nBlog page uses LEFT-ALIGNED layout with max-w-5xl containers throughout.\nThe search bar must match this pattern, NOT the centered max-w-2xl pattern from tools page.\n\n### Component Approach\nSearchBar component exists but is designed for centered layouts (max-w-2xl mx-auto).\nOptions:\n1. Add width variant prop to SearchBar\n2. Create inline search input for blog page\nDecision: Option 2 - create inline search to match blog's full-width pattern\n\n### Consistency Requirements\nMUST maintain:\n- max-w-5xl container (matches rest of blog page)\n- Full width within container (left-aligned, not centered)\n- Same input styling (h-11, pl-10, bg-card)\n- Same search icon positioning\n\nCAN vary:\n- Container width (must match blog's max-w-5xl, not tools' max-w-2xl)\n```\n\n---\n\n## Phase 3: Implementation\n\n**ONLY AFTER** completing Phase 1 and Phase 2 outputs above, proceed with writing code.\n\n### Implementation Guidelines\n\n**For existing codebases**, maintain consistency with identified patterns:\n\n- **Typography**: Use existing font families, sizes, weights\n- **Color & Theme**: Use existing CSS variables and color tokens\n- **Spacing**: Match existing padding, margin, gap patterns\n- **Components**: Reuse or extend existing components when possible\n- **Animations**: Match existing motion and interaction patterns\n\n**See also:**\n- [EXAMPLES.md](EXAMPLES.md) - Real-world case studies\n- [REFERENCE.md](REFERENCE.md) - Deep aesthetic principles (apply only where consistent)\n\n---\n\n## Common Mistakes to Avoid\n\n‚ùå **Skipping Phase 1** - Jumping straight to implementation without analysis\n‚ùå **Shallow scanning** - Only looking at 1-2 files instead of comprehensive analysis\n‚ùå **Ignoring patterns** - Seeing patterns but not applying them\n‚ùå **Component bloat** - Creating new components when existing ones could be adapted\n‚ùå **Inconsistent widths** - Mixing centered and left-aligned layouts on the same page type\n‚ùå **Typography drift** - Using different fonts, sizes, or weights without justification\n‚ùå **Color divergence** - Adding new color values instead of using existing tokens\n\n---\n\n## Checklist Summary\n\nBefore writing any code:\n\n- [ ] Scanned 3-5 related files\n- [ ] Documented layout patterns (alignment, containers, spacing)\n- [ ] Documented typography patterns (fonts, hierarchy, colors)\n- [ ] Documented component patterns (structure, reusable components)\n- [ ] Documented color/theme patterns (variables, palette, mode)\n- [ ] OUTPUT complete \"Design Language Analysis\" section\n- [ ] Decided which patterns apply to new work\n- [ ] Decided on component reuse vs creation strategy\n- [ ] Identified consistency requirements (MUST vs CAN)\n- [ ] OUTPUT complete \"Design Decisions\" section\n- [ ] **Only then**: Proceed to implementation\n\n---\n\n**Remember:** The goal is consistency, not perfection. When in doubt, match existing patterns.\n",
        "NEW-PROJECT-DESIGN.md": "# New Project: Aesthetic Design Philosophy\n\n**Use this when building from scratch** - no existing codebase to match, full creative freedom.\n\nThis guide helps you create bold, distinctive frontend interfaces that avoid generic \"AI slop\" aesthetics and deliver memorable user experiences.\n\n---\n\n## Design Thinking Process\n\nBefore coding, understand the context and commit to a BOLD aesthetic direction.\n\n### 1. Understand the Context\n\n**Purpose**\n- What problem does this interface solve?\n- Who are the users?\n- What are their goals and pain points?\n\n**Constraints**\n- Technical requirements (framework, performance targets)\n- Accessibility standards (WCAG compliance)\n- Browser support needs\n- Device/viewport considerations\n\n**Differentiation**\n- What makes this interface UNFORGETTABLE?\n- What's the one thing someone will remember?\n- How does it stand out from competitors?\n\n### 2. Choose an Aesthetic Direction\n\n**Pick an extreme** - commit fully to a clear conceptual direction:\n\n- **Brutally minimal**: Sparse layouts, monochrome palette, extreme negative space\n- **Maximalist chaos**: Dense information, bold colors, layered complexity\n- **Retro-futuristic**: Nostalgic elements with modern tech aesthetic\n- **Organic/natural**: Flowing forms, earthy tones, biomimicry\n- **Luxury/refined**: Sophisticated typography, muted elegance, premium feel\n- **Playful/toy-like**: Rounded shapes, bright colors, whimsical interactions\n- **Editorial/magazine**: Strong typography hierarchy, grid-based, content-focused\n- **Brutalist/raw**: Exposed structure, harsh contrasts, utilitarian\n- **Art deco/geometric**: Symmetry, geometric patterns, metallic accents\n- **Soft/pastel**: Gentle gradients, low contrast, calming atmosphere\n- **Industrial/utilitarian**: Function-first, mechanical aesthetics, technical precision\n\n**CRITICAL**: Choose a clear conceptual direction and execute it with precision. Bold maximalism and refined minimalism both work - the key is intentionality, not intensity.\n\n### 3. Implementation Goals\n\nCreate working code that is:\n\n‚úÖ **Production-grade and functional**\n- Real, working code (not mockups)\n- Properly structured components\n- Responsive across devices\n- Accessible to all users\n\n‚úÖ **Visually striking and memorable**\n- Immediate visual impact\n- Distinctive from generic templates\n- Reinforces brand/purpose\n\n‚úÖ **Cohesive with clear aesthetic point-of-view**\n- Every element serves the chosen direction\n- Consistent visual language\n- Intentional design decisions throughout\n\n‚úÖ **Meticulously refined in every detail**\n- Precise spacing and alignment\n- Thoughtful micro-interactions\n- Polish in typography, color, motion\n\n---\n\n## Frontend Aesthetics Guidelines\n\nApply these principles when executing your design vision:\n\n### Typography\n\n**Go beyond generic fonts** - typography is personality.\n\n‚úÖ **DO:**\n- Choose distinctive, characterful fonts\n- Pair a bold display font with a refined body font\n- Use font variation (weight, width, slant) for hierarchy\n- Consider custom/variable fonts for uniqueness\n- Test readability across sizes and contexts\n\n‚ùå **AVOID:**\n- Generic system fonts (Arial, Helvetica, system-ui)\n- Overused web fonts (Inter, Roboto - unless intentional)\n- Poor contrast or readability\n- Inconsistent font pairing\n\n**Examples:**\n- Display: Ginto, Clash Display, Syne, Archivo Black, Fraunces\n- Body: Work Sans, S√∂hne, Untitled Sans, Sentient, Supreme\n- Mono: JetBrains Mono, Commit Mono, Berkeley Mono\n\n### Color & Theme\n\n**Commit to a cohesive palette** - colors create atmosphere.\n\n‚úÖ **DO:**\n- Use CSS variables for consistency\n- Choose dominant colors with sharp accents\n- Create intentional color relationships\n- Consider color psychology (warm/cool, energetic/calming)\n- Test contrast for accessibility (WCAG AA minimum)\n\n‚ùå **AVOID:**\n- Timid, evenly-distributed palettes\n- Clich√©d combinations (purple gradient on white)\n- Poor contrast ratios\n- Randomness without purpose\n\n**Approaches:**\n- **Monochrome + accent**: Single base color with one bold accent\n- **Analogous harmony**: Adjacent colors on color wheel\n- **Bold contrast**: High-contrast complementary colors\n- **Muted elegance**: Desaturated tones with subtle variation\n\n### Motion & Animation\n\n**Animate with purpose** - motion should delight and inform.\n\n‚úÖ **DO:**\n- Prioritize CSS-only solutions for performance\n- Use Motion library (Framer Motion) for React when needed\n- Focus on high-impact moments (page load, key interactions)\n- Use staggered reveals (animation-delay) for orchestration\n- Add scroll-triggered animations for engagement\n- Create surprising hover states\n\n‚ùå **AVOID:**\n- Scattered, meaningless micro-interactions\n- Performance-heavy JavaScript animations for simple effects\n- Motion that distracts from content\n- Animations without easing (linear motion feels robotic)\n\n**High-Impact Patterns:**\n- Staggered fade-in on page load\n- Smooth scroll-triggered reveals\n- Morphing shapes on interaction\n- Parallax effects (use sparingly)\n- Magnetic cursor effects\n- Elastic hover states\n\n### Spatial Composition\n\n**Break expectations** - layouts should surprise and guide.\n\n‚úÖ **DO:**\n- Use asymmetry intentionally\n- Overlap elements for depth\n- Create diagonal flow to guide eye\n- Add grid-breaking elements for interest\n- Use generous negative space OR controlled density (not in-between)\n\n‚ùå **AVOID:**\n- Predictable centered layouts\n- Uniform spacing everywhere\n- Tight, cramped compositions\n- Lack of visual hierarchy\n\n**Techniques:**\n- **Asymmetric grids**: Offset columns, uneven distribution\n- **Z-index layering**: Overlap for depth and dimensionality\n- **Diagonal flow**: Angles create energy and movement\n- **Negative space**: Breathing room emphasizes important content\n- **Controlled density**: Information-rich areas with clear structure\n\n### Backgrounds & Visual Details\n\n**Create atmosphere** - go beyond solid colors.\n\n‚úÖ **DO:**\n- Add contextual textures and effects\n- Use gradient meshes for depth\n- Apply subtle noise/grain overlays\n- Create layered transparencies\n- Add dramatic shadows for elevation\n- Consider decorative borders and ornaments\n- Experiment with custom cursor styles\n\n‚ùå **AVOID:**\n- Plain solid color backgrounds everywhere\n- Overused gradient patterns\n- Details that don't match aesthetic direction\n- Visual noise without purpose\n\n**Techniques:**\n- **Gradient meshes**: Soft, organic color transitions\n- **Noise textures**: Subtle grain for tactile quality\n- **Geometric patterns**: Structured, repeating motifs\n- **Radial gradients**: Spotlight effects, vignettes\n- **Blurred shapes**: Abstract background elements\n- **Glass morphism**: Frosted glass effects (backdrop-filter)\n\n---\n\n## Anti-Patterns: Avoiding AI Slop\n\n**NEVER** create generic AI-generated aesthetics. Recognize and avoid these patterns:\n\n‚ùå **Overused font families**\n- Inter everywhere (it's become the Arial of AI-generated designs)\n- Roboto (overused, lacks character)\n- System fonts without intentionality\n- Space Grotesk (recently overused in AI designs)\n\n‚ùå **Clich√©d color schemes**\n- Purple gradients on white backgrounds\n- Generic blue/teal combinations\n- Pastel everything without purpose\n- Rainbow gradients without restraint\n\n‚ùå **Predictable layouts**\n- Centered hero ‚Üí 3 feature cards ‚Üí testimonials ‚Üí CTA\n- Same component patterns as every SaaS landing page\n- No surprises, no memorable moments\n- Cookie-cutter grid systems\n\n‚ùå **Lack of context-specific character**\n- Designs that could be for any product/service\n- No connection to brand, purpose, or audience\n- Generic stock photography aesthetic\n- Templated feel throughout\n\n---\n\n## Creative Freedom Guidelines\n\n**Interpret creatively** - make unexpected choices that feel genuinely designed for the context.\n\n### Vary Your Approach\n\n**No two designs should be the same.** Intentionally vary:\n\n- **Theme**: Light vs dark (or something in between)\n- **Density**: Spacious vs information-rich\n- **Tone**: Professional vs playful vs experimental\n- **Complexity**: Minimal vs maximalist\n- **Typography**: Serif vs sans-serif vs mixed\n- **Color**: Monochrome vs vibrant vs muted\n\n**NEVER converge on common choices** across different projects. If you used Space Grotesk last time, choose something completely different this time.\n\n### Match Complexity to Vision\n\n**Aesthetic vision dictates code complexity:**\n\n**Maximalist designs** ‚Üí Elaborate implementation\n- Extensive animations and effects\n- Complex layering and composition\n- Rich interactions and micro-animations\n- Advanced CSS techniques\n\n**Minimalist designs** ‚Üí Restrained implementation\n- Precise spacing and alignment\n- Subtle, purposeful animations\n- Careful typography tuning\n- Attention to micro-details\n\n**Elegance comes from executing the vision well**, not from choosing \"simple\" vs \"complex.\"\n\n---\n\n## Implementation Checklist\n\nBefore finalizing your design:\n\n### Context & Strategy\n- [ ] Clearly defined purpose and audience\n- [ ] Identified key differentiator (the memorable element)\n- [ ] Chosen specific aesthetic direction (not generic)\n- [ ] Considered technical constraints\n\n### Typography\n- [ ] Distinctive font choices (not Inter/Roboto by default)\n- [ ] Clear hierarchy (display vs body vs UI)\n- [ ] Tested readability across sizes\n- [ ] Proper font pairing\n\n### Color & Theme\n- [ ] Cohesive color palette with CSS variables\n- [ ] Intentional color relationships\n- [ ] Tested contrast for accessibility (WCAG AA+)\n- [ ] Avoided clich√©d combinations\n\n### Motion & Animation\n- [ ] High-impact moments identified and animated\n- [ ] CSS-first approach for performance\n- [ ] Easing curves feel natural\n- [ ] Animations enhance, not distract\n\n### Spatial Composition\n- [ ] Unexpected or intentional layout choices\n- [ ] Visual hierarchy guides user attention\n- [ ] Appropriate use of space (generous or dense)\n- [ ] Breaking the grid where appropriate\n\n### Visual Details\n- [ ] Contextual backgrounds and textures\n- [ ] Atmospheric depth (gradients, shadows, layers)\n- [ ] Details match chosen aesthetic\n- [ ] Polish in every interaction\n\n### Originality\n- [ ] Doesn't look like generic AI output\n- [ ] Context-specific character throughout\n- [ ] Memorable and distinctive\n- [ ] Different from previous projects\n\n---\n\n## Remember\n\n**Claude is capable of extraordinary creative work.**\n\nDon't hold back. Show what can truly be created when:\n- Thinking outside the box\n- Committing fully to a distinctive vision\n- Avoiding generic templates and patterns\n- Designing with intention and purpose\n\nCreate something unforgettable.\n\n---\n\n**See also:**\n- [EXAMPLES.md](EXAMPLES.md) - Real-world design examples and case studies\n- [REFERENCE.md](REFERENCE.md) - Deep-dive into specific aesthetic techniques\n"
      }
    }
  },
  {
    "id": "skill-activation-prompt",
    "name": "Skill Activation Prompt",
    "category": "hooks",
    "description": "Automatically detects and activates relevant skills based on user prompts using keyword and intent pattern matching",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "automation",
      "skills",
      "typescript",
      "prompt-matching",
      "activation"
    ],
    "featured": true,
    "files": {
      "main": "skill-activation-prompt.sh",
      "additional": [
        "skill-activation-prompt.ts"
      ]
    },
    "hookConfig": {
      "event": "UserPromptSubmit",
      "matcher": null,
      "command": ".claude/hooks/skill-activation-prompt.sh",
      "type": "command",
      "timeout": null
    },
    "requirements": {
      "runtime": [
        "Node.js 18+",
        "tsx (installed via: npm install -g tsx)"
      ],
      "files": [
        ".claude/skills/skill-rules.json"
      ],
      "env": []
    },
    "setup": {
      "script": "setup.sh",
      "description": "Automatically checks for Node.js and tsx, helps create skill-rules.json if missing"
    },
    "installation": {
      "targetDir": ".claude/hooks",
      "instructions": "Make executable: chmod +x .claude/hooks/skill-activation-prompt.sh. Requires Node.js runtime."
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/hooks/skill-activation-prompt"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 5,
    "content": {
      "main": "#!/bin/bash\nset -e\n\ncd \"$CLAUDE_PROJECT_DIR/.claude/hooks\"\ncat | npx tsx skill-activation-prompt.ts",
      "additional": {
        "skill-activation-prompt.ts": "#!/usr/bin/env node\nimport { readFileSync } from 'fs';\nimport { join } from 'path';\n\ninterface HookInput {\n    session_id: string;\n    transcript_path: string;\n    cwd: string;\n    permission_mode: string;\n    prompt: string;\n}\n\ninterface PromptTriggers {\n    keywords?: string[];\n    intentPatterns?: string[];\n}\n\ninterface SkillRule {\n    type: 'guardrail' | 'domain';\n    enforcement: 'block' | 'suggest' | 'warn';\n    priority: 'critical' | 'high' | 'medium' | 'low';\n    promptTriggers?: PromptTriggers;\n}\n\ninterface SkillRules {\n    version: string;\n    skills: Record<string, SkillRule>;\n}\n\ninterface MatchedSkill {\n    name: string;\n    matchType: 'keyword' | 'intent';\n    config: SkillRule;\n}\n\nasync function main() {\n    try {\n        // Read input from stdin\n        const input = readFileSync(0, 'utf-8');\n        const data: HookInput = JSON.parse(input);\n        const prompt = data.prompt.toLowerCase();\n\n        // Load skill rules\n        const projectDir = data.cwd || process.cwd();\n        const rulesPath = join(projectDir, '.claude', 'skills', 'skill-rules.json');\n        const rules: SkillRules = JSON.parse(readFileSync(rulesPath, 'utf-8'));\n\n        const matchedSkills: MatchedSkill[] = [];\n\n        // Check each skill for matches\n        for (const [skillName, config] of Object.entries(rules.skills)) {\n            const triggers = config.promptTriggers;\n            if (!triggers) {\n                continue;\n            }\n\n            // Keyword matching\n            if (triggers.keywords) {\n                const keywordMatch = triggers.keywords.some(kw =>\n                    prompt.includes(kw.toLowerCase())\n                );\n                if (keywordMatch) {\n                    matchedSkills.push({ name: skillName, matchType: 'keyword', config });\n                    continue;\n                }\n            }\n\n            // Intent pattern matching\n            if (triggers.intentPatterns) {\n                const intentMatch = triggers.intentPatterns.some(pattern => {\n                    const regex = new RegExp(pattern, 'i');\n                    return regex.test(prompt);\n                });\n                if (intentMatch) {\n                    matchedSkills.push({ name: skillName, matchType: 'intent', config });\n                }\n            }\n        }\n\n        // Generate output if matches found\n        if (matchedSkills.length > 0) {\n            let output = '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\\n';\n            output += 'üéØ SKILL ACTIVATION CHECK\\n';\n            output += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\\n\\n';\n\n            // Group by priority\n            const critical = matchedSkills.filter(s => s.config.priority === 'critical');\n            const high = matchedSkills.filter(s => s.config.priority === 'high');\n            const medium = matchedSkills.filter(s => s.config.priority === 'medium');\n            const low = matchedSkills.filter(s => s.config.priority === 'low');\n\n            if (critical.length > 0) {\n                output += '‚ö†Ô∏è CRITICAL SKILLS (REQUIRED):\\n';\n                critical.forEach(s => output += `  ‚Üí ${s.name}\\n`);\n                output += '\\n';\n            }\n\n            if (high.length > 0) {\n                output += 'üìö RECOMMENDED SKILLS:\\n';\n                high.forEach(s => output += `  ‚Üí ${s.name}\\n`);\n                output += '\\n';\n            }\n\n            if (medium.length > 0) {\n                output += 'üí° SUGGESTED SKILLS:\\n';\n                medium.forEach(s => output += `  ‚Üí ${s.name}\\n`);\n                output += '\\n';\n            }\n\n            if (low.length > 0) {\n                output += 'üìå OPTIONAL SKILLS:\\n';\n                low.forEach(s => output += `  ‚Üí ${s.name}\\n`);\n                output += '\\n';\n            }\n\n            output += 'ACTION: Use Skill tool BEFORE responding\\n';\n            output += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\\n';\n\n            console.log(output);\n        }\n\n        process.exit(0);\n    } catch (err) {\n        console.error('Error in skill-activation-prompt hook:', err);\n        process.exit(1);\n    }\n}\n\nmain().catch(err => {\n    console.error('Uncaught error:', err);\n    process.exit(1);\n});"
      }
    }
  },
  {
    "id": "skill-developer",
    "name": "Skill Developer",
    "category": "skills",
    "description": "Create and manage Claude Code skills following Anthropic best practices. Covers skill structure, trigger patterns, enforcement levels, and hook mechanisms.",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "skill-development",
      "meta",
      "triggers",
      "hooks",
      "yaml",
      "best-practices"
    ],
    "featured": true,
    "files": {
      "main": "SKILL.md",
      "additional": [
        "ADVANCED.md",
        "HOOK_MECHANISMS.md",
        "HOW-SKILL-WORKS.md",
        "PATTERNS_LIBRARY.md",
        "SKILL_RULES_REFERENCE.md",
        "TRIGGER_TYPES.md",
        "TROUBLESHOOTING.md"
      ]
    },
    "installation": {
      "targetDir": ".claude/skills/skill-developer",
      "instructions": "After copying files, ensure the skill is registered in .claude/skills/skill-rules.json"
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/skills/skill-developer"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 5,
    "content": {
      "main": "---\nname: skill-developer\ndescription: Create and manage Claude Code skills following Anthropic best practices. Use when creating new skills, modifying skill-rules.json, understanding trigger patterns, working with hooks, debugging skill activation, or implementing progressive disclosure. Covers skill structure, YAML frontmatter, trigger types (keywords, intent patterns, file paths, content patterns), enforcement levels (block, suggest, warn), hook mechanisms (UserPromptSubmit, PreToolUse), session tracking, and the 500-line rule.\n---\n\n# Skill Developer Guide\n\n## Purpose\n\nComprehensive guide for creating and managing skills in Claude Code with auto-activation system, following Anthropic's official best practices including the 500-line rule and progressive disclosure pattern.\n\n## When to Use This Skill\n\nAutomatically activates when you mention:\n- Creating or adding skills\n- Modifying skill triggers or rules\n- Understanding how skill activation works\n- Debugging skill activation issues\n- Working with skill-rules.json\n- Hook system mechanics\n- Claude Code best practices\n- Progressive disclosure\n- YAML frontmatter\n- 500-line rule\n\n---\n\n## System Overview\n\n### Two-Hook Architecture\n\n**1. UserPromptSubmit Hook** (Proactive Suggestions)\n- **File**: `.claude/hooks/skill-activation-prompt.ts`\n- **Trigger**: BEFORE Claude sees user's prompt\n- **Purpose**: Suggest relevant skills based on keywords + intent patterns\n- **Method**: Injects formatted reminder as context (stdout ‚Üí Claude's input)\n- **Use Cases**: Topic-based skills, implicit work detection\n\n**2. Stop Hook - Error Handling Reminder** (Gentle Reminders)\n- **File**: `.claude/hooks/error-handling-reminder.ts`\n- **Trigger**: AFTER Claude finishes responding\n- **Purpose**: Gentle reminder to self-assess error handling in code written\n- **Method**: Analyzes edited files for risky patterns, displays reminder if needed\n- **Use Cases**: Error handling awareness without blocking friction\n\n**Philosophy Change (2025-10-27):** We moved away from blocking PreToolUse for Sentry/error handling. Instead, use gentle post-response reminders that don't block workflow but maintain code quality awareness.\n\n### Configuration File\n\n**Location**: `.claude/skills/skill-rules.json`\n\nDefines:\n- All skills and their trigger conditions\n- Enforcement levels (block, suggest, warn)\n- File path patterns (glob)\n- Content detection patterns (regex)\n- Skip conditions (session tracking, file markers, env vars)\n\n---\n\n## Skill Types\n\n### 1. Guardrail Skills\n\n**Purpose:** Enforce critical best practices that prevent errors\n\n**Characteristics:**\n- Type: `\"guardrail\"`\n- Enforcement: `\"block\"`\n- Priority: `\"critical\"` or `\"high\"`\n- Block file edits until skill used\n- Prevent common mistakes (column names, critical errors)\n- Session-aware (don't repeat nag in same session)\n\n**Examples:**\n- `database-verification` - Verify table/column names before Prisma queries\n- `frontend-dev-guidelines` - Enforce React/TypeScript patterns\n\n**When to Use:**\n- Mistakes that cause runtime errors\n- Data integrity concerns\n- Critical compatibility issues\n\n### 2. Domain Skills\n\n**Purpose:** Provide comprehensive guidance for specific areas\n\n**Characteristics:**\n- Type: `\"domain\"`\n- Enforcement: `\"suggest\"`\n- Priority: `\"high\"` or `\"medium\"`\n- Advisory, not mandatory\n- Topic or domain-specific\n- Comprehensive documentation\n\n**Examples:**\n- `backend-dev-guidelines` - Node.js/Express/TypeScript patterns\n- `frontend-dev-guidelines` - React/TypeScript best practices\n- `error-tracking` - Sentry integration guidance\n\n**When to Use:**\n- Complex systems requiring deep knowledge\n- Best practices documentation\n- Architectural patterns\n- How-to guides\n\n---\n\n## Quick Start: Creating a New Skill\n\n### Step 1: Create Skill File\n\n**Location:** `.claude/skills/{skill-name}/SKILL.md`\n\n**Template:**\n```markdown\n---\nname: my-new-skill\ndescription: Brief description including keywords that trigger this skill. Mention topics, file types, and use cases. Be explicit about trigger terms.\n---\n\n# My New Skill\n\n## Purpose\nWhat this skill helps with\n\n## When to Use\nSpecific scenarios and conditions\n\n## Key Information\nThe actual guidance, documentation, patterns, examples\n```\n\n**Best Practices:**\n- ‚úÖ **Name**: Lowercase, hyphens, gerund form (verb + -ing) preferred\n- ‚úÖ **Description**: Include ALL trigger keywords/phrases (max 1024 chars)\n- ‚úÖ **Examples**: Real code examples\n- ‚úÖ **Structure**: Clear headings, lists, code blocks\n\n### Step 2: Content refine\n\nBy leveraging [How skill works](./HOW-SKILL-WORKS.md) and skill contents loading orders, refine the skill structure to keep each file small but highly correlated to a specific field and reference in main `SKILL.md` to reduce context and token usage.\n\n**Best Practices:**\n- ‚úÖ **Content**: Each markdown file content should be less than 500 lines and very focused on a specific purpose or task.\n- ‚úÖ **Reference**: Extra reference markdown files should be reference back to main `SKILL.md` to avoid untented ignorance.\n- ‚úÖ **SKILL.md**: `SKILL.md` should be short and focus on high level and common information and have references to other field-specific references documentations.\n\n\n### Step 3: Add to skill-rules.json\n\nSee [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md) for complete schema.\n\n**Basic Template:**\n```json\n{\n  \"my-new-skill\": {\n    \"type\": \"domain\",\n    \"enforcement\": \"suggest\",\n    \"priority\": \"medium\",\n    \"promptTriggers\": {\n      \"keywords\": [\"keyword1\", \"keyword2\"],\n      \"intentPatterns\": [\"(create|add).*?something\"]\n    }\n  }\n}\n```\n\n### Step 4: Test Triggers\n\n**Test UserPromptSubmit:**\n```bash\necho '{\"session_id\":\"test\",\"prompt\":\"your test prompt\"}' | \\\n  npx tsx .claude/hooks/skill-activation-prompt.ts\n```\n\n**Test PreToolUse:**\n```bash\ncat <<'EOF' | npx tsx .claude/hooks/skill-verification-guard.ts\n{\"session_id\":\"test\",\"tool_name\":\"Edit\",\"tool_input\":{\"file_path\":\"test.ts\"}}\nEOF\n```\n\n### Step 5: Refine Patterns\n\nBased on testing:\n- Add missing keywords\n- Refine intent patterns to reduce false positives\n- Adjust file path patterns\n- Test content patterns against actual files\n\n### Step 6: Follow Anthropic Best Practices\n\n‚úÖ Keep SKILL.md under 500 lines\n‚úÖ Use progressive disclosure with reference files\n‚úÖ Add table of contents to reference files > 100 lines\n‚úÖ Write detailed description with trigger keywords\n‚úÖ Test with 3+ real scenarios before documenting\n‚úÖ Iterate based on actual usage\n\n---\n\n## Enforcement Levels\n\n### BLOCK (Critical Guardrails)\n\n- Physically prevents Edit/Write tool execution\n- Exit code 2 from hook, stderr ‚Üí Claude\n- Claude sees message and must use skill to proceed\n- **Use For**: Critical mistakes, data integrity, security issues\n\n**Example:** Database column name verification\n\n### SUGGEST (Recommended)\n\n- Reminder injected before Claude sees prompt\n- Claude is aware of relevant skills\n- Not enforced, just advisory\n- **Use For**: Domain guidance, best practices, how-to guides\n\n**Example:** Frontend development guidelines\n\n### WARN (Optional)\n\n- Low priority suggestions\n- Advisory only, minimal enforcement\n- **Use For**: Nice-to-have suggestions, informational reminders\n\n**Rarely used** - most skills are either BLOCK or SUGGEST.\n\n---\n\n## Skip Conditions & User Control\n\n### 1. Session Tracking\n\n**Purpose:** Don't nag repeatedly in same session\n\n**How it works:**\n- First edit ‚Üí Hook blocks, updates session state\n- Second edit (same session) ‚Üí Hook allows\n- Different session ‚Üí Blocks again\n\n**State File:** `.claude/hooks/state/skills-used-{session_id}.json`\n\n### 2. File Markers\n\n**Purpose:** Permanent skip for verified files\n\n**Marker:** `// @skip-validation`\n\n**Usage:**\n```typescript\n// @skip-validation\nimport { PrismaService } from './prisma';\n// This file has been manually verified\n```\n\n**NOTE:** Use sparingly - defeats the purpose if overused\n\n### 3. Environment Variables\n\n**Purpose:** Emergency disable, temporary override\n\n**Global disable:**\n```bash\nexport SKIP_SKILL_GUARDRAILS=true  # Disables ALL PreToolUse blocks\n```\n\n**Skill-specific:**\n```bash\nexport SKIP_DB_VERIFICATION=true\nexport SKIP_ERROR_REMINDER=true\n```\n\n---\n\n## Testing Checklist\n\nWhen creating a new skill, verify:\n\n- [ ] Skill file created in `.claude/skills/{name}/SKILL.md`\n- [ ] Proper frontmatter with name and description\n- [ ] Entry added to `skill-rules.json`\n- [ ] Keywords tested with real prompts\n- [ ] Intent patterns tested with variations\n- [ ] File path patterns tested with actual files\n- [ ] Content patterns tested against file contents\n- [ ] Block message is clear and actionable (if guardrail)\n- [ ] Skip conditions configured appropriately\n- [ ] Priority level matches importance\n- [ ] No false positives in testing\n- [ ] No false negatives in testing\n- [ ] Performance is acceptable (<100ms or <200ms)\n- [ ] JSON syntax validated: `jq . skill-rules.json`\n- [ ] **SKILL.md under 500 lines** ‚≠ê\n- [ ] Reference files created if needed\n- [ ] Table of contents added to files > 100 lines\n\n---\n\n## Reference Files\n\nFor detailed information on specific topics, see:\n\n### [TRIGGER_TYPES.md](TRIGGER_TYPES.md)\nComplete guide to all trigger types:\n- Keyword triggers (explicit topic matching)\n- Intent patterns (implicit action detection)\n- File path triggers (glob patterns)\n- Content patterns (regex in files)\n- Best practices and examples for each\n- Common pitfalls and testing strategies\n\n### [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md)\nComplete skill-rules.json schema:\n- Full TypeScript interface definitions\n- Field-by-field explanations\n- Complete guardrail skill example\n- Complete domain skill example\n- Validation guide and common errors\n\n### [HOOK_MECHANISMS.md](HOOK_MECHANISMS.md)\nDeep dive into hook internals:\n- UserPromptSubmit flow (detailed)\n- PreToolUse flow (detailed)\n- Exit code behavior table (CRITICAL)\n- Session state management\n- Performance considerations\n\n### [TROUBLESHOOTING.md](TROUBLESHOOTING.md)\nComprehensive debugging guide:\n- Skill not triggering (UserPromptSubmit)\n- PreToolUse not blocking\n- False positives (too many triggers)\n- Hook not executing at all\n- Performance issues\n\n### [PATTERNS_LIBRARY.md](PATTERNS_LIBRARY.md)\nReady-to-use pattern collection:\n- Intent pattern library (regex)\n- File path pattern library (glob)\n- Content pattern library (regex)\n- Organized by use case\n- Copy-paste ready\n\n### [ADVANCED.md](ADVANCED.md)\nFuture enhancements and ideas:\n- Dynamic rule updates\n- Skill dependencies\n- Conditional enforcement\n- Skill analytics\n- Skill versioning\n\n---\n\n## Quick Reference Summary\n\n### Create New Skill (5 Steps)\n\n1. Create `.claude/skills/{name}/SKILL.md` with frontmatter\n2. Add entry to `.claude/skills/skill-rules.json`\n3. Test with `npx tsx` commands\n4. Refine patterns based on testing\n5. Keep SKILL.md under 500 lines\n\n### Trigger Types\n\n- **Keywords**: Explicit topic mentions\n- **Intent**: Implicit action detection\n- **File Paths**: Location-based activation\n- **Content**: Technology-specific detection\n\nSee [TRIGGER_TYPES.md](TRIGGER_TYPES.md) for complete details.\n\n### Enforcement\n\n- **BLOCK**: Exit code 2, critical only\n- **SUGGEST**: Inject context, most common\n- **WARN**: Advisory, rarely used\n\n### Skip Conditions\n\n- **Session tracking**: Automatic (prevents repeated nags)\n- **File markers**: `// @skip-validation` (permanent skip)\n- **Env vars**: `SKIP_SKILL_GUARDRAILS` (emergency disable)\n\n### Anthropic Best Practices\n\n‚úÖ **500-line rule**: Keep SKILL.md under 500 lines\n‚úÖ **Progressive disclosure**: Use reference files for details\n‚úÖ **Table of contents**: Add to reference files > 100 lines\n‚úÖ **One level deep**: Don't nest references deeply\n‚úÖ **Rich descriptions**: Include all trigger keywords (max 1024 chars)\n‚úÖ **Test first**: Build 3+ evaluations before extensive documentation\n‚úÖ **Gerund naming**: Prefer verb + -ing (e.g., \"processing-pdfs\")\n\n### Troubleshoot\n\nTest hooks manually:\n```bash\n# UserPromptSubmit\necho '{\"prompt\":\"test\"}' | npx tsx .claude/hooks/skill-activation-prompt.ts\n\n# PreToolUse\ncat <<'EOF' | npx tsx .claude/hooks/skill-verification-guard.ts\n{\"tool_name\":\"Edit\",\"tool_input\":{\"file_path\":\"test.ts\"}}\nEOF\n```\n\nSee [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for complete debugging guide.\n\n---\n\n## Related Files\n\n**Configuration:**\n- `.claude/skills/skill-rules.json` - Master configuration\n- `.claude/hooks/state/` - Session tracking\n- `.claude/settings.json` - Hook registration\n\n**Hooks:**\n- `.claude/hooks/skill-activation-prompt.ts` - UserPromptSubmit\n- `.claude/hooks/error-handling-reminder.ts` - Stop event (gentle reminders)\n\n**All Skills:**\n- `.claude/skills/*/SKILL.md` - Skill content files\n\n---\n\n**Skill Status**: COMPLETE - Restructured following Anthropic best practices ‚úÖ\n**Line Count**: < 500 (following 500-line rule) ‚úÖ\n**Progressive Disclosure**: Reference files for detailed information ‚úÖ\n\n**Next**: Create more skills, refine patterns based on usage",
      "additional": {
        "ADVANCED.md": "# Advanced Topics & Future Enhancements\n\nIdeas and concepts for future improvements to the skill system.\n\n---\n\n## Dynamic Rule Updates\n\n**Current State:** Requires Claude Code restart to pick up changes to skill-rules.json\n\n**Future Enhancement:** Hot-reload configuration without restart\n\n**Implementation Ideas:**\n- Watch skill-rules.json for changes\n- Reload on file modification\n- Invalidate cached compiled regexes\n- Notify user of reload\n\n**Benefits:**\n- Faster iteration during skill development\n- No need to restart Claude Code\n- Better developer experience\n\n---\n\n## Skill Dependencies\n\n**Current State:** Skills are independent\n\n**Future Enhancement:** Specify skill dependencies and load order\n\n**Configuration Idea:**\n```json\n{\n  \"my-advanced-skill\": {\n    \"dependsOn\": [\"prerequisite-skill\", \"base-skill\"],\n    \"type\": \"domain\",\n    ...\n  }\n}\n```\n\n**Use Cases:**\n- Advanced skill builds on base skill knowledge\n- Ensure foundational skills loaded first\n- Chain skills for complex workflows\n\n**Benefits:**\n- Better skill composition\n- Clearer skill relationships\n- Progressive disclosure\n\n---\n\n## Conditional Enforcement\n\n**Current State:** Enforcement level is static\n\n**Future Enhancement:** Enforce based on context or environment\n\n**Configuration Idea:**\n```json\n{\n  \"enforcement\": {\n    \"default\": \"suggest\",\n    \"when\": {\n      \"production\": \"block\",\n      \"development\": \"suggest\",\n      \"ci\": \"block\"\n    }\n  }\n}\n```\n\n**Use Cases:**\n- Stricter enforcement in production\n- Relaxed rules during development\n- CI/CD pipeline requirements\n\n**Benefits:**\n- Environment-appropriate enforcement\n- Flexible rule application\n- Context-aware guardrails\n\n---\n\n## Skill Analytics\n\n**Current State:** No usage tracking\n\n**Future Enhancement:** Track skill usage patterns and effectiveness\n\n**Metrics to Collect:**\n- Skill trigger frequency\n- False positive rate\n- False negative rate\n- Time to skill usage after suggestion\n- User override rate (skip markers, env vars)\n- Performance metrics (execution time)\n\n**Dashbord Ideas:**\n- Most/least used skills\n- Skills with highest false positive rate\n- Performance bottlenecks\n- Skill effectiveness scores\n\n**Benefits:**\n- Data-driven skill improvement\n- Identify problems early\n- Optimize patterns based on real usage\n\n---\n\n## Skill Versioning\n\n**Current State:** No version tracking\n\n**Future Enhancement:** Version skills and track compatibility\n\n**Configuration Idea:**\n```json\n{\n  \"my-skill\": {\n    \"version\": \"2.1.0\",\n    \"minClaudeVersion\": \"1.5.0\",\n    \"changelog\": \"Added support for new workflow patterns\",\n    ...\n  }\n}\n```\n\n**Benefits:**\n- Track skill evolution\n- Ensure compatibility\n- Document changes\n- Support migration paths\n\n---\n\n## Multi-Language Support\n\n**Current State:** English only\n\n**Future Enhancement:** Support multiple languages for skill content\n\n**Implementation Ideas:**\n- Language-specific SKILL.md variants\n- Automatic language detection\n- Fallback to English\n\n**Use Cases:**\n- International teams\n- Localized documentation\n- Multi-language projects\n\n---\n\n## Skill Testing Framework\n\n**Current State:** Manual testing with npx tsx commands\n\n**Future Enhancement:** Automated skill testing\n\n**Features:**\n- Test cases for trigger patterns\n- Assertion framework\n- CI/CD integration\n- Coverage reports\n\n**Example Test:**\n```typescript\ndescribe('database-verification', () => {\n  it('triggers on Prisma imports', () => {\n    const result = testSkill({\n      prompt: \"add user tracking\",\n      file: \"services/user.ts\",\n      content: \"import { PrismaService } from './prisma'\"\n    });\n\n    expect(result.triggered).toBe(true);\n    expect(result.skill).toBe('database-verification');\n  });\n});\n```\n\n**Benefits:**\n- Prevent regressions\n- Validate patterns before deployment\n- Confidence in changes\n\n---\n\n## Related Files\n\n- [SKILL.md](SKILL.md) - Main skill guide\n- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Current debugging guide\n- [HOOK_MECHANISMS.md](HOOK_MECHANISMS.md) - How hooks work today",
        "HOOK_MECHANISMS.md": "# Hook Mechanisms - Deep Dive\n\nTechnical deep dive into how the UserPromptSubmit and PreToolUse hooks work.\n\n## Table of Contents\n\n- [UserPromptSubmit Hook Flow](#userpromptsubmit-hook-flow)\n- [PreToolUse Hook Flow](#pretooluse-hook-flow)\n- [Exit Code Behavior (CRITICAL)](#exit-code-behavior-critical)\n- [Session State Management](#session-state-management)\n- [Performance Considerations](#performance-considerations)\n\n---\n\n## UserPromptSubmit Hook Flow\n\n### Execution Sequence\n\n```\nUser submits prompt\n    ‚Üì\n.claude/settings.json registers hook\n    ‚Üì\nskill-activation-prompt.sh executes\n    ‚Üì\nnpx tsx skill-activation-prompt.ts\n    ‚Üì\nHook reads stdin (JSON with prompt)\n    ‚Üì\nLoads skill-rules.json\n    ‚Üì\nMatches keywords + intent patterns\n    ‚Üì\nGroups matches by priority (critical ‚Üí high ‚Üí medium ‚Üí low)\n    ‚Üì\nOutputs formatted message to stdout\n    ‚Üì\nstdout becomes context for Claude (injected before prompt)\n    ‚Üì\nClaude sees: [skill suggestion] + user's prompt\n```\n\n### Key Points\n\n- **Exit code**: Always 0 (allow)\n- **stdout**: ‚Üí Claude's context (injected as system message)\n- **Timing**: Runs BEFORE Claude processes prompt\n- **Behavior**: Non-blocking, advisory only\n- **Purpose**: Make Claude aware of relevant skills\n\n### Input Format\n\n```json\n{\n  \"session_id\": \"abc-123\",\n  \"transcript_path\": \"/path/to/transcript.json\",\n  \"cwd\": \"/root/git/your-project\",\n  \"permission_mode\": \"normal\",\n  \"hook_event_name\": \"UserPromptSubmit\",\n  \"prompt\": \"how does the layout system work?\"\n}\n```\n\n### Output Format (to stdout)\n\n```\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüéØ SKILL ACTIVATION CHECK\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\nüìö RECOMMENDED SKILLS:\n  ‚Üí project-catalog-developer\n\nACTION: Use Skill tool BEFORE responding\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n```\n\nClaude sees this output as additional context before processing the user's prompt.\n\n---\n\n## PreToolUse Hook Flow\n\n### Execution Sequence\n\n```\nClaude calls Edit/Write tool\n    ‚Üì\n.claude/settings.json registers hook (matcher: Edit|Write)\n    ‚Üì\nskill-verification-guard.sh executes\n    ‚Üì\nnpx tsx skill-verification-guard.ts\n    ‚Üì\nHook reads stdin (JSON with tool_name, tool_input)\n    ‚Üì\nLoads skill-rules.json\n    ‚Üì\nChecks file path patterns (glob matching)\n    ‚Üì\nReads file for content patterns (if file exists)\n    ‚Üì\nChecks session state (was skill already used?)\n    ‚Üì\nChecks skip conditions (file markers, env vars)\n    ‚Üì\nIF MATCHED AND NOT SKIPPED:\n  Update session state (mark skill as enforced)\n  Output block message to stderr\n  Exit with code 2 (BLOCK)\nELSE:\n  Exit with code 0 (ALLOW)\n    ‚Üì\nIF BLOCKED:\n  stderr ‚Üí Claude sees message\n  Edit/Write tool does NOT execute\n  Claude must use skill and retry\nIF ALLOWED:\n  Tool executes normally\n```\n\n### Key Points\n\n- **Exit code 2**: BLOCK (stderr ‚Üí Claude)\n- **Exit code 0**: ALLOW\n- **Timing**: Runs BEFORE tool execution\n- **Session tracking**: Prevents repeated blocks in same session\n- **Fail open**: On errors, allows operation (don't break workflow)\n- **Purpose**: Enforce critical guardrails\n\n### Input Format\n\n```json\n{\n  \"session_id\": \"abc-123\",\n  \"transcript_path\": \"/path/to/transcript.json\",\n  \"cwd\": \"/root/git/your-project\",\n  \"permission_mode\": \"normal\",\n  \"hook_event_name\": \"PreToolUse\",\n  \"tool_name\": \"Edit\",\n  \"tool_input\": {\n    \"file_path\": \"/root/git/your-project/form/src/services/user.ts\",\n    \"old_string\": \"...\",\n    \"new_string\": \"...\"\n  }\n}\n```\n\n### Output Format (to stderr when blocked)\n\n```\n‚ö†Ô∏è BLOCKED - Database Operation Detected\n\nüìã REQUIRED ACTION:\n1. Use Skill tool: 'database-verification'\n2. Verify ALL table and column names against schema\n3. Check database structure with DESCRIBE commands\n4. Then retry this edit\n\nReason: Prevent column name errors in Prisma queries\nFile: form/src/services/user.ts\n\nüí° TIP: Add '// @skip-validation' comment to skip future checks\n```\n\nClaude receives this message and understands it needs to use the skill before retrying the edit.\n\n---\n\n## Exit Code Behavior (CRITICAL)\n\n### Exit Code Reference Table\n\n| Exit Code | stdout | stderr | Tool Execution | Claude Sees |\n|-----------|--------|--------|----------------|-------------|\n| 0 (UserPromptSubmit) | ‚Üí Context | ‚Üí User only | N/A | stdout content |\n| 0 (PreToolUse) | ‚Üí User only | ‚Üí User only | **Proceeds** | Nothing |\n| 2 (PreToolUse) | ‚Üí User only | ‚Üí **CLAUDE** | **BLOCKED** | stderr content |\n| Other | ‚Üí User only | ‚Üí User only | Blocked | Nothing |\n\n### Why Exit Code 2 Matters\n\nThis is THE critical mechanism for enforcement:\n\n1. **Only way** to send message to Claude from PreToolUse\n2. stderr content is \"fed back to Claude automatically\"\n3. Claude sees the block message and understands what to do\n4. Tool execution is prevented\n5. Critical for enforcement of guardrails\n\n### Example Conversation Flow\n\n```\nUser: \"Add a new user service with Prisma\"\n\nClaude: \"I'll create the user service...\"\n    [Attempts to Edit form/src/services/user.ts]\n\nPreToolUse Hook: [Exit code 2]\n    stderr: \"‚ö†Ô∏è BLOCKED - Use database-verification\"\n\nClaude sees error, responds:\n    \"I need to verify the database schema first.\"\n    [Uses Skill tool: database-verification]\n    [Verifies column names]\n    [Retries Edit - now allowed (session tracking)]\n```\n\n---\n\n## Session State Management\n\n### Purpose\n\nPrevent repeated nagging in the same session - once Claude uses a skill, don't block again.\n\n### State File Location\n\n`.claude/hooks/state/skills-used-{session_id}.json`\n\n### State File Structure\n\n```json\n{\n  \"skills_used\": [\n    \"database-verification\",\n    \"error-tracking\"\n  ],\n  \"files_verified\": []\n}\n```\n\n### How It Works\n\n1. **First edit** of file with Prisma:\n   - Hook blocks with exit code 2\n   - Updates session state: adds \"database-verification\" to skills_used\n   - Claude sees message, uses skill\n\n2. **Second edit** (same session):\n   - Hook checks session state\n   - Finds \"database-verification\" in skills_used\n   - Exits with code 0 (allow)\n   - No message to Claude\n\n3. **Different session**:\n   - New session ID = new state file\n   - Hook blocks again\n\n### Limitation\n\nThe hook cannot detect when the skill is *actually* invoked - it just blocks once per session per skill. This means:\n\n- If Claude doesn't use the skill but makes a different edit, it won't block again\n- Trust that Claude follows the instruction\n- Future enhancement: detect actual Skill tool usage\n\n---\n\n## Performance Considerations\n\n### Target Metrics\n\n- **UserPromptSubmit**: < 100ms\n- **PreToolUse**: < 200ms\n\n### Performance Bottlenecks\n\n1. **Loading skill-rules.json** (every execution)\n   - Future: Cache in memory\n   - Future: Watch for changes, reload only when needed\n\n2. **Reading file content** (PreToolUse)\n   - Only when contentPatterns configured\n   - Only if file exists\n   - Can be slow for large files\n\n3. **Glob matching** (PreToolUse)\n   - Regex compilation for each pattern\n   - Future: Compile once, cache\n\n4. **Regex matching** (Both hooks)\n   - Intent patterns (UserPromptSubmit)\n   - Content patterns (PreToolUse)\n   - Future: Lazy compile, cache compiled regexes\n\n### Optimization Strategies\n\n**Reduce patterns:**\n- Use more specific patterns (fewer to check)\n- Combine similar patterns where possible\n\n**File path patterns:**\n- More specific = fewer files to check\n- Example: `form/src/services/**` better than `form/**`\n\n**Content patterns:**\n- Only add when truly necessary\n- Simpler regex = faster matching\n\n---\n\n**Related Files:**\n- [SKILL.md](SKILL.md) - Main skill guide\n- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Debug hook issues\n- [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md) - Configuration reference",
        "HOW-SKILL-WORKS.md": "# How Skills work\n\nSkills leverage Claude's VM environment to provide capabilities beyond what's possible with prompts alone. Claude operates in a virtual machine with filesystem access, allowing Skills to exist as directories containing instructions, executable code, and reference materials, organized like an onboarding guide you'd create for a new team member.\n\nThis filesystem-based architecture enables **progressive disclosure**: Claude loads information in stages as needed, rather than consuming context upfront.\n\n### Three types of Skill content, three levels of loading\n\nSkills can contain three types of content, each loaded at different times:\n\n### Level 1: Metadata (always loaded)\n\n**Content type: Instructions**. The Skill's YAML frontmatter provides discovery information:\n\n```yaml  theme={null}\n---\nname: pdf-processing\ndescription: Extract text and tables from PDF files, fill forms, merge documents. Use when working with PDF files or when the user mentions PDFs, forms, or document extraction.\n---\n```\n\nClaude loads this metadata at startup and includes it in the system prompt. This lightweight approach means you can install many Skills without context penalty; Claude only knows each Skill exists and when to use it.\n\n### Level 2: Instructions (loaded when triggered)\n\n**Content type: Instructions**. The main body of SKILL.md contains procedural knowledge: workflows, best practices, and guidance:\n\n````markdown  theme={null}\n# PDF Processing\n\n## Quick start\n\nUse pdfplumber to extract text from PDFs:\n\n```python\nimport pdfplumber\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    text = pdf.pages[0].extract_text()\n```\n\nFor advanced form filling, see [FORMS.md](FORMS.md).\n````\n\nWhen you request something that matches a Skill's description, Claude reads SKILL.md from the filesystem via bash. Only then does this content enter the context window.\n\n### Level 3: Resources and code (loaded as needed)\n\n**Content types: Instructions, code, and resources**. Skills can bundle additional materials:\n\n```\npdf-skill/\n‚îú‚îÄ‚îÄ SKILL.md (main instructions)\n‚îú‚îÄ‚îÄ FORMS.md (form-filling guide)\n‚îú‚îÄ‚îÄ REFERENCE.md (detailed API reference)\n‚îî‚îÄ‚îÄ scripts/\n    ‚îî‚îÄ‚îÄ fill_form.py (utility script)\n```\n\n**Instructions**: Additional markdown files (FORMS.md, REFERENCE.md) containing specialized guidance and workflows\n\n**Code**: Executable scripts (fill\\_form.py, validate.py) that Claude runs via bash; scripts provide deterministic operations without consuming context\n\n**Resources**: Reference materials like database schemas, API documentation, templates, or examples\n\nClaude accesses these files only when referenced. The filesystem model means each content type has different strengths: instructions for flexible guidance, code for reliability, resources for factual lookup.\n\n| Level                     | When Loaded             | Token Cost             | Content                                                               |\n| ------------------------- | ----------------------- | ---------------------- | --------------------------------------------------------------------- |\n| **Level 1: Metadata**     | Always (at startup)     | \\~100 tokens per Skill | `name` and `description` from YAML frontmatter                        |\n| **Level 2: Instructions** | When Skill is triggered | Under 5k tokens        | SKILL.md body with instructions and guidance                          |\n| **Level 3+: Resources**   | As needed               | Effectively unlimited  | Bundled files executed via bash without loading contents into context |\n\nProgressive disclosure ensures only relevant content occupies the context window at any given time.\n\n### The Skills architecture\n\nSkills run in a code execution environment where Claude has filesystem access, bash commands, and code execution capabilities. Think of it like this: Skills exist as directories on a virtual machine, and Claude interacts with them using the same bash commands you'd use to navigate files on your computer.\n\n<img src=\"https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=44c5eab950e209f613a5a47f712550dc\" alt=\"Agent Skills Architecture - showing how Skills integrate with the agent's configuration and virtual machine\" data-og-width=\"2048\" width=\"2048\" data-og-height=\"1153\" height=\"1153\" data-path=\"images/agent-skills-architecture.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?w=280&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=fc06568b957c9c3617ea341548799568 280w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?w=560&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=5569fe72706deda67658467053251837 560w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?w=840&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=83c04e9248de7082971d623f835c2184 840w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?w=1100&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=d8e1900f8992d435088a565e098fd32a 1100w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?w=1650&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=b03b4a5df2a08f4be86889e6158975ee 1650w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-architecture.png?w=2500&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=b9cab267c168f6a480ba946b6558115c 2500w\" />\n\n**How Claude accesses Skill content:**\n\nWhen a Skill is triggered, Claude uses bash to read SKILL.md from the filesystem, bringing its instructions into the context window. If those instructions reference other files (like FORMS.md or a database schema), Claude reads those files too using additional bash commands. When instructions mention executable scripts, Claude runs them via bash and receives only the output (the script code itself never enters context).\n\n**What this architecture enables:**\n\n**On-demand file access**: Claude reads only the files needed for each specific task. A Skill can include dozens of reference files, but if your task only needs the sales schema, Claude loads just that one file. The rest remain on the filesystem consuming zero tokens.\n\n**Efficient script execution**: When Claude runs `validate_form.py`, the script's code never loads into the context window. Only the script's output (like \"Validation passed\" or specific error messages) consumes tokens. This makes scripts far more efficient than having Claude generate equivalent code on the fly.\n\n**No practical limit on bundled content**: Because files don't consume context until accessed, Skills can include comprehensive API documentation, large datasets, extensive examples, or any reference materials you need. There's no context penalty for bundled content that isn't used.\n\nThis filesystem-based model is what makes progressive disclosure work. Claude navigates your Skill like you'd reference specific sections of an onboarding guide, accessing exactly what each task requires.\n\n### Example: Loading a PDF processing skill\n\nHere's how Claude loads and uses a PDF processing skill:\n\n1. **Startup**: System prompt includes: `PDF Processing - Extract text and tables from PDF files, fill forms, merge documents`\n2. **User request**: \"Extract the text from this PDF and summarize it\"\n3. **Claude invokes**: `bash: read pdf-skill/SKILL.md` ‚Üí Instructions loaded into context\n4. **Claude determines**: Form filling is not needed, so FORMS.md is not read\n5. **Claude executes**: Uses instructions from SKILL.md to complete the task\n\n<img src=\"https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=0127e014bfc3dd3c86567aad8609111b\" alt=\"Skills loading into context window - showing the progressive loading of skill metadata and content\" data-og-width=\"2048\" width=\"2048\" data-og-height=\"1154\" height=\"1154\" data-path=\"images/agent-skills-context-window.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?w=280&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=a17315d47b7c5a85b389026b70676e98 280w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?w=560&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=267349b063954588d4fae2650cb90cd8 560w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?w=840&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=0864972aba7bcb10bad86caf82cb415f 840w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?w=1100&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=631d661cbadcbdb62fd0935b91bd09f8 1100w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?w=1650&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=c1f80d0e37c517eb335db83615483ae0 1650w, https://mintcdn.com/anthropic-claude-docs/4Bny2bjzuGBK7o00/images/agent-skills-context-window.png?w=2500&fit=max&auto=format&n=4Bny2bjzuGBK7o00&q=85&s=4b6d0f1baf011ff9b49de501d8d83cc7 2500w\" />\n\nThe diagram shows:\n\n1. Default state with system prompt and skill metadata pre-loaded\n2. Claude triggers the skill by reading SKILL.md via bash\n3. Claude optionally reads additional bundled files like FORMS.md as needed\n4. Claude proceeds with the task\n\nThis dynamic loading ensures only relevant skill content occupies the context window.\n\n## Skill structure\n\nEvery Skill requires a `SKILL.md` file with YAML frontmatter:\n\n```yaml  theme={null}\n---\nname: your-skill-name\ndescription: Brief description of what this Skill does and when to use it\n---\n\n# Your Skill Name\n\n## Instructions\n[Clear, step-by-step guidance for Claude to follow]\n\n## Examples\n[Concrete examples of using this Skill]\n```\n\n**Required fields**: `name` and `description`\n\n**Field requirements**:\n\n`name`:\n\n* Maximum 64 characters\n* Must contain only lowercase letters, numbers, and hyphens\n* Cannot contain XML tags\n* Cannot contain reserved words: \"anthropic\", \"claude\"\n\n`description`:\n\n* Must be non-empty\n* Maximum 1024 characters\n* Cannot contain XML tags\n\nThe `description` should include both what the Skill does and when Claude should use it. For complete authoring guidance, see the [best practices guide](/en/docs/agents-and-tools/agent-skills/best-practices).\n\n## Limitations and constraints\n\nUnderstanding these limitations helps you plan your Skills deployment effectively.\n\n### Cross-surface availability\n\n**Custom Skills do not sync across surfaces**. Skills uploaded to one surface are not automatically available on others:\n\n* Skills uploaded to Claude.ai must be separately uploaded to the API\n* Skills uploaded via the API are not available on Claude.ai\n* Claude Code Skills are filesystem-based and separate from both Claude.ai and API\n\nYou'll need to manage and upload Skills separately for each surface where you want to use them.\n\n### Sharing scope\n\nSkills have different sharing models depending on where you use them:\n\n* **Claude.ai**: Individual user only; each team member must upload separately\n* **Claude API**: Workspace-wide; all workspace members can access uploaded Skills\n* **Claude Code**: Personal (`~/.claude/skills/`) or project-based (`.claude/skills/`); can also be shared via Claude Code Plugins\n\nClaude.ai does not currently support centralized admin management or org-wide distribution of custom Skills.\n\n### Runtime environment constraints\n\nThe exact runtime environment available to your skill depends on the product surface where you use it.\n\n* **Claude.ai**:\n  * **Varying network access**: Depending on user/admin settings, Skills may have full, partial, or no network access. For more details, see the [Create and Edit Files](https://support.claude.com/en/articles/12111783-create-and-edit-files-with-claude#h_6b7e833898) support article.\n* **Claude API**:\n  * **No network access**: Skills cannot make external API calls or access the internet\n  * **No runtime package installation**: Only pre-installed packages are available. You cannot install new packages during execution.\n  * **Pre-configured dependencies only**: Check the [code execution tool documentation](/en/docs/agents-and-tools/tool-use/code-execution-tool) for the list of available packages\n* **Claude Code**:\n  * **Full network access**: Skills have the same network access as any other program on the user's computer\n  * **Global package installation discouraged**: Skills should only install packages locally in order to avoid interfering with the user's computer\n\nPlan your Skills to work within these constraints.\n",
        "PATTERNS_LIBRARY.md": "# Common Patterns Library\n\nReady-to-use regex and glob patterns for skill triggers.\n\n---\n\n## Intent Patterns (Regex)\n\n### Feature/Endpoint Creation\n```regex\n(add|create|implement|build).*?(feature|endpoint|route|service|controller|api)\n```\n\n### Component Creation\n```regex\n(create|add|make|build).*?(component|UI|page|modal|dialog|form)\n```\n\n### Database Work\n```regex\n(add|create|modify|update).*?(user|table|column|field|schema|migration)\n(database|prisma).*?(change|update|query)\n```\n\n### Error Handling\n```regex\n(fix|handle|catch|debug).*?(error|exception|bug)\n(add|implement).*?(try|catch|error.*?handling)\n```\n\n### Explanation Requests\n```regex\n(how does|how do|explain|what is|describe|tell me about).*?\n```\n\n### Workflow Operations\n```regex\n(create|add|modify|update).*?(workflow|step|branch|condition)\n(debug|troubleshoot|fix).*?workflow\n```\n\n### Testing\n```regex\n(write|create|add).*?(test|spec|unit.*?test)\n```\n\n---\n\n## File Path Patterns (Glob)\n\n### Frontend\n```glob\npackages/ui/src/**/*.tsx        # All React components\npackages/ui/src/**/*.ts         # All TypeScript files\npackages/ui/src/components/**   # Only components directory\n```\n\n### API Service\n```glob\npackages/api/src/routes/*.ts    # \nemail/src/**/*.ts           # Email service\nusers/src/**/*.ts           # Users service\nprojects/src/**/*.ts        # Projects service\n```\n\n### Database\n```glob\n**/schema.prisma            # Prisma schema (anywhere)\n**/migrations/**/*.sql      # Migration files\ndatabase/src/**/*.ts        # Database scripts\n```\n\n### Workflows\n```glob\nform/src/workflow/**/*.ts              # Workflow engine\nform/src/workflow-definitions/**/*.json # Workflow definitions\n```\n\n### Test Exclusions\n```glob\n**/*.test.ts                # TypeScript tests\n**/*.test.tsx               # React component tests\n**/*.spec.ts                # Spec files\n```\n\n---\n\n## Content Patterns (Regex)\n\n### Prisma/Database\n```regex\nimport.*[Pp]risma                # Prisma imports\nPrismaService                    # PrismaService usage\nprisma\\.                         # prisma.something\n\\.findMany\\(                     # Prisma query methods\n\\.create\\(\n\\.update\\(\n\\.delete\\(\n```\n\n### Controllers/Routes\n```regex\nexport class.*Controller         # Controller classes\nrouter\\.                         # Express router\napp\\.(get|post|put|delete|patch) # Express app routes\n```\n\n### Error Handling\n```regex\ntry\\s*\\{                        # Try blocks\ncatch\\s*\\(                      # Catch blocks\nthrow new                        # Throw statements\n```\n\n### React/Components\n```regex\nexport.*React\\.FC               # React functional components\nexport default function.*       # Default function exports\nuseState|useEffect              # React hooks\n```\n\n---\n\n**Usage Example:**\n\n```json\n{\n  \"my-skill\": {\n    \"promptTriggers\": {\n      \"intentPatterns\": [\n        \"(create|add|build).*?(component|UI|page)\"\n      ]\n    },\n    \"fileTriggers\": {\n      \"pathPatterns\": [\n        \"frontend/src/**/*.tsx\"\n      ],\n      \"contentPatterns\": [\n        \"export.*React\\\\.FC\",\n        \"useState|useEffect\"\n      ]\n    }\n  }\n}\n```\n\n---\n\n**Related Files:**\n- [SKILL.md](SKILL.md) - Main skill guide\n- [TRIGGER_TYPES.md](TRIGGER_TYPES.md) - Detailed trigger documentation\n- [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md) - Complete schema",
        "SKILL_RULES_REFERENCE.md": "# skill-rules.json - Complete Reference\n\nComplete schema and configuration reference for `.claude/skills/skill-rules.json`.\n\n## Table of Contents\n\n- [File Location](#file-location)\n- [Complete TypeScript Schema](#complete-typescript-schema)\n- [Field Guide](#field-guide)\n- [Example: Guardrail Skill](#example-guardrail-skill)\n- [Example: Domain Skill](#example-domain-skill)\n- [Validation](#validation)\n\n---\n\n## File Location\n\n**Path:** `.claude/skills/skill-rules.json`\n\nThis JSON file defines all skills and their trigger conditions for the auto-activation system.\n\n---\n\n## Complete TypeScript Schema\n\n```typescript\ninterface SkillRules {\n    version: string;\n    skills: Record<string, SkillRule>;\n}\n\ninterface SkillRule {\n    type: 'guardrail' | 'domain';\n    enforcement: 'block' | 'suggest' | 'warn';\n    priority: 'critical' | 'high' | 'medium' | 'low';\n\n    promptTriggers?: {\n        keywords?: string[];\n        intentPatterns?: string[];  // Regex strings\n    };\n\n    fileTriggers?: {\n        pathPatterns: string[];     // Glob patterns\n        pathExclusions?: string[];  // Glob patterns\n        contentPatterns?: string[]; // Regex strings\n        createOnly?: boolean;       // Only trigger on file creation\n    };\n\n    blockMessage?: string;  // For guardrails, {file_path} placeholder\n\n    skipConditions?: {\n        sessionSkillUsed?: boolean;      // Skip if used in session\n        fileMarkers?: string[];          // e.g., [\"@skip-validation\"]\n        envOverride?: string;            // e.g., \"SKIP_DB_VERIFICATION\"\n    };\n}\n```\n\n---\n\n## Field Guide\n\n### Top Level\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `version` | string | Yes | Schema version (currently \"1.0\") |\n| `skills` | object | Yes | Map of skill name ‚Üí SkillRule |\n\n### SkillRule Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `type` | string | Yes | \"guardrail\" (enforced) or \"domain\" (advisory) |\n| `enforcement` | string | Yes | \"block\" (PreToolUse), \"suggest\" (UserPromptSubmit), or \"warn\" |\n| `priority` | string | Yes | \"critical\", \"high\", \"medium\", or \"low\" |\n| `promptTriggers` | object | Optional | Triggers for UserPromptSubmit hook |\n| `fileTriggers` | object | Optional | Triggers for PreToolUse hook |\n| `blockMessage` | string | Optional* | Required if enforcement=\"block\". Use `{file_path}` placeholder |\n| `skipConditions` | object | Optional | Escape hatches and session tracking |\n\n*Required for guardrails\n\n### promptTriggers Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `keywords` | string[] | Optional | Exact substring matches (case-insensitive) |\n| `intentPatterns` | string[] | Optional | Regex patterns for intent detection |\n\n### fileTriggers Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `pathPatterns` | string[] | Yes* | Glob patterns for file paths |\n| `pathExclusions` | string[] | Optional | Glob patterns to exclude (e.g., test files) |\n| `contentPatterns` | string[] | Optional | Regex patterns to match file content |\n| `createOnly` | boolean | Optional | Only trigger when creating new files |\n\n*Required if fileTriggers is present\n\n### skipConditions Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `sessionSkillUsed` | boolean | Optional | Skip if skill already used this session |\n| `fileMarkers` | string[] | Optional | Skip if file contains comment marker |\n| `envOverride` | string | Optional | Environment variable name to disable skill |\n\n---\n\n## Example: Guardrail Skill\n\nComplete example of a blocking guardrail skill with all features:\n\n```json\n{\n  \"database-verification\": {\n    \"type\": \"guardrail\",\n    \"enforcement\": \"block\",\n    \"priority\": \"critical\",\n\n    \"promptTriggers\": {\n      \"keywords\": [\n        \"prisma\",\n        \"database\",\n        \"table\",\n        \"column\",\n        \"schema\",\n        \"query\",\n        \"migration\"\n      ],\n      \"intentPatterns\": [\n        \"(add|create|implement).*?(user|login|auth|tracking|feature)\",\n        \"(modify|update|change).*?(table|column|schema|field)\",\n        \"database.*?(change|update|modify|migration)\"\n      ]\n    },\n\n    \"fileTriggers\": {\n      \"pathPatterns\": [\n        \"**/schema.prisma\",\n        \"**/migrations/**/*.sql\",\n        \"database/src/**/*.ts\",\n        \"form/src/**/*.ts\",\n        \"email/src/**/*.ts\",\n        \"users/src/**/*.ts\",\n        \"projects/src/**/*.ts\",\n        \"utilities/src/**/*.ts\"\n      ],\n      \"pathExclusions\": [\n        \"**/*.test.ts\",\n        \"**/*.spec.ts\"\n      ],\n      \"contentPatterns\": [\n        \"import.*[Pp]risma\",\n        \"PrismaService\",\n        \"prisma\\\\.\",\n        \"\\\\.findMany\\\\(\",\n        \"\\\\.findUnique\\\\(\",\n        \"\\\\.findFirst\\\\(\",\n        \"\\\\.create\\\\(\",\n        \"\\\\.createMany\\\\(\",\n        \"\\\\.update\\\\(\",\n        \"\\\\.updateMany\\\\(\",\n        \"\\\\.upsert\\\\(\",\n        \"\\\\.delete\\\\(\",\n        \"\\\\.deleteMany\\\\(\"\n      ]\n    },\n\n    \"blockMessage\": \"‚ö†Ô∏è BLOCKED - Database Operation Detected\\n\\nüìã REQUIRED ACTION:\\n1. Use Skill tool: 'database-verification'\\n2. Verify ALL table and column names against schema\\n3. Check database structure with DESCRIBE commands\\n4. Then retry this edit\\n\\nReason: Prevent column name errors in Prisma queries\\nFile: {file_path}\\n\\nüí° TIP: Add '// @skip-validation' comment to skip future checks\",\n\n    \"skipConditions\": {\n      \"sessionSkillUsed\": true,\n      \"fileMarkers\": [\n        \"@skip-validation\"\n      ],\n      \"envOverride\": \"SKIP_DB_VERIFICATION\"\n    }\n  }\n}\n```\n\n### Key Points for Guardrails\n\n1. **type**: Must be \"guardrail\"\n2. **enforcement**: Must be \"block\"\n3. **priority**: Usually \"critical\" or \"high\"\n4. **blockMessage**: Required, clear actionable steps\n5. **skipConditions**: Session tracking prevents repeated nagging\n6. **fileTriggers**: Usually has both path and content patterns\n7. **contentPatterns**: Catch actual usage of technology\n\n---\n\n## Example: Domain Skill\n\nComplete example of a suggestion-based domain skill:\n\n```json\n{\n  \"project-catalog-developer\": {\n    \"type\": \"domain\",\n    \"enforcement\": \"suggest\",\n    \"priority\": \"high\",\n\n    \"promptTriggers\": {\n      \"keywords\": [\n        \"layout\",\n        \"layout system\",\n        \"grid\",\n        \"grid layout\",\n        \"toolbar\",\n        \"column\",\n        \"cell editor\",\n        \"cell renderer\",\n        \"submission\",\n        \"submissions\",\n        \"blog dashboard\",\n        \"datagrid\",\n        \"data grid\",\n        \"CustomToolbar\",\n        \"GridLayoutDialog\",\n        \"useGridLayout\",\n        \"auto-save\",\n        \"column order\",\n        \"column width\",\n        \"filter\",\n        \"sort\"\n      ],\n      \"intentPatterns\": [\n        \"(how does|how do|explain|what is|describe).*?(layout|grid|toolbar|column|submission|catalog)\",\n        \"(add|create|modify|change).*?(toolbar|column|cell|editor|renderer)\",\n        \"blog dashboard.*?\"\n      ]\n    },\n\n    \"fileTriggers\": {\n      \"pathPatterns\": [\n        \"frontend/src/features/submissions/**/*.tsx\",\n        \"frontend/src/features/submissions/**/*.ts\"\n      ],\n      \"pathExclusions\": [\n        \"**/*.test.tsx\",\n        \"**/*.test.ts\"\n      ]\n    }\n  }\n}\n```\n\n### Key Points for Domain Skills\n\n1. **type**: Must be \"domain\"\n2. **enforcement**: Usually \"suggest\"\n3. **priority**: \"high\" or \"medium\"\n4. **blockMessage**: Not needed (doesn't block)\n5. **skipConditions**: Optional (less critical)\n6. **promptTriggers**: Usually has extensive keywords\n7. **fileTriggers**: May have only path patterns (content less important)\n\n---\n\n## Validation\n\n### Check JSON Syntax\n\n```bash\ncat .claude/skills/skill-rules.json | jq .\n```\n\nIf valid, jq will pretty-print the JSON. If invalid, it will show the error.\n\n### Common JSON Errors\n\n**Trailing comma:**\n```json\n{\n  \"keywords\": [\"one\", \"two\",]  // ‚ùå Trailing comma\n}\n```\n\n**Missing quotes:**\n```json\n{\n  type: \"guardrail\"  // ‚ùå Missing quotes on key\n}\n```\n\n**Single quotes (invalid JSON):**\n```json\n{\n  'type': 'guardrail'  // ‚ùå Must use double quotes\n}\n```\n\n### Validation Checklist\n\n- [ ] JSON syntax valid (use `jq`)\n- [ ] All skill names match SKILL.md filenames\n- [ ] Guardrails have `blockMessage`\n- [ ] Block messages use `{file_path}` placeholder\n- [ ] Intent patterns are valid regex (test on regex101.com)\n- [ ] File path patterns use correct glob syntax\n- [ ] Content patterns escape special characters\n- [ ] Priority matches enforcement level\n- [ ] No duplicate skill names\n\n---\n\n**Related Files:**\n- [SKILL.md](SKILL.md) - Main skill guide\n- [TRIGGER_TYPES.md](TRIGGER_TYPES.md) - Complete trigger documentation\n- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Debugging configuration issues",
        "TRIGGER_TYPES.md": "# Trigger Types - Complete Guide\n\nComplete reference for configuring skill triggers in Claude Code's skill auto-activation system.\n\n## Table of Contents\n\n- [Keyword Triggers (Explicit)](#keyword-triggers-explicit)\n- [Intent Pattern Triggers (Implicit)](#intent-pattern-triggers-implicit)\n- [File Path Triggers](#file-path-triggers)\n- [Content Pattern Triggers](#content-pattern-triggers)\n- [Best Practices Summary](#best-practices-summary)\n\n---\n\n## Keyword Triggers (Explicit)\n\n### How It Works\n\nCase-insensitive substring matching in user's prompt.\n\n### Use For\n\nTopic-based activation where user explicitly mentions the subject.\n\n### Configuration\n\n```json\n\"promptTriggers\": {\n  \"keywords\": [\"layout\", \"grid\", \"toolbar\", \"submission\"]\n}\n```\n\n### Example\n\n- User prompt: \"how does the **layout** system work?\"\n- Matches: \"layout\" keyword\n- Activates: `project-catalog-developer`\n\n### Best Practices\n\n- Use specific, unambiguous terms\n- Include common variations (\"layout\", \"layout system\", \"grid layout\")\n- Avoid overly generic words (\"system\", \"work\", \"create\")\n- Test with real prompts\n\n---\n\n## Intent Pattern Triggers (Implicit)\n\n### How It Works\n\nRegex pattern matching to detect user's intent even when they don't mention the topic explicitly.\n\n### Use For\n\nAction-based activation where user describes what they want to do rather than the specific topic.\n\n### Configuration\n\n```json\n\"promptTriggers\": {\n  \"intentPatterns\": [\n    \"(create|add|implement).*?(feature|endpoint)\",\n    \"(how does|explain).*?(layout|workflow)\"\n  ]\n}\n```\n\n### Examples\n\n**Database Work:**\n- User prompt: \"add user tracking feature\"\n- Matches: `(add).*?(feature)`\n- Activates: `database-verification`, `error-tracking`\n\n**Component Creation:**\n- User prompt: \"create a dashboard widget\"\n- Matches: `(create).*?(component)` (if component in pattern)\n- Activates: `frontend-dev-guidelines`\n\n### Best Practices\n\n- Capture common action verbs: `(create|add|modify|build|implement)`\n- Include domain-specific nouns: `(feature|endpoint|component|workflow)`\n- Use non-greedy matching: `.*?` instead of `.*`\n- Test patterns thoroughly with regex tester (https://regex101.com/)\n- Don't make patterns too broad (causes false positives)\n- Don't make patterns too specific (causes false negatives)\n\n### Common Pattern Examples\n\n```regex\n# Database Work\n(add|create|implement).*?(user|login|auth|feature)\n\n# Explanations\n(how does|explain|what is|describe).*?\n\n# Frontend Work\n(create|add|make|build).*?(component|UI|page|modal|dialog)\n\n# Error Handling\n(fix|handle|catch|debug).*?(error|exception|bug)\n\n# Workflow Operations\n(create|add|modify).*?(workflow|step|branch|condition)\n```\n\n---\n\n## File Path Triggers\n\n### How It Works\n\nGlob pattern matching against the file path being edited.\n\n### Use For\n\nDomain/area-specific activation based on file location in the project.\n\n### Configuration\n\n```json\n\"fileTriggers\": {\n  \"pathPatterns\": [\n    \"frontend/src/**/*.tsx\",\n    \"form/src/**/*.ts\"\n  ],\n  \"pathExclusions\": [\n    \"**/*.test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}\n```\n\n### Glob Pattern Syntax\n\n- `**` = Any number of directories (including zero)\n- `*` = Any characters within a directory name\n- Examples:\n  - `frontend/src/**/*.tsx` = All .tsx files in frontend/src and subdirs\n  - `**/schema.prisma` = schema.prisma anywhere in project\n  - `form/src/**/*.ts` = All .ts files in form/src subdirs\n\n### Example\n\n- File being edited: `frontend/src/components/Dashboard.tsx`\n- Matches: `frontend/src/**/*.tsx`\n- Activates: `frontend-dev-guidelines`\n\n### Best Practices\n\n- Be specific to avoid false positives\n- Use exclusions for test files: `**/*.test.ts`\n- Consider subdirectory structure\n- Test patterns with actual file paths\n- Use narrower patterns when possible: `form/src/services/**` not `form/**`\n\n### Common Path Patterns\n\n```glob\n# Frontend\nfrontend/src/**/*.tsx        # All React components\nfrontend/src/**/*.ts         # All TypeScript files\nfrontend/src/components/**   # Only components directory\n\n# Backend Services\nform/src/**/*.ts            # Form service\nemail/src/**/*.ts           # Email service\nusers/src/**/*.ts           # Users service\n\n# Database\n**/schema.prisma            # Prisma schema (anywhere)\n**/migrations/**/*.sql      # Migration files\ndatabase/src/**/*.ts        # Database scripts\n\n# Workflows\nform/src/workflow/**/*.ts              # Workflow engine\nform/src/workflow-definitions/**/*.json # Workflow definitions\n\n# Test Exclusions\n**/*.test.ts                # TypeScript tests\n**/*.test.tsx               # React component tests\n**/*.spec.ts                # Spec files\n```\n\n---\n\n## Content Pattern Triggers\n\n### How It Works\n\nRegex pattern matching against the file's actual content (what's inside the file).\n\n### Use For\n\nTechnology-specific activation based on what the code imports or uses (Prisma, controllers, specific libraries).\n\n### Configuration\n\n```json\n\"fileTriggers\": {\n  \"contentPatterns\": [\n    \"import.*[Pp]risma\",\n    \"PrismaService\",\n    \"\\\\.findMany\\\\(\",\n    \"\\\\.create\\\\(\"\n  ]\n}\n```\n\n### Examples\n\n**Prisma Detection:**\n- File contains: `import { PrismaService } from '@project/database'`\n- Matches: `import.*[Pp]risma`\n- Activates: `database-verification`\n\n**Controller Detection:**\n- File contains: `export class UserController {`\n- Matches: `export class.*Controller`\n- Activates: `error-tracking`\n\n### Best Practices\n\n- Match imports: `import.*[Pp]risma` (case-insensitive with [Pp])\n- Escape special regex chars: `\\\\.findMany\\\\(` not `.findMany(`\n- Patterns use case-insensitive flag\n- Test against real file content\n- Make patterns specific enough to avoid false matches\n\n### Common Content Patterns\n\n```regex\n# Prisma/Database\nimport.*[Pp]risma                # Prisma imports\nPrismaService                    # PrismaService usage\nprisma\\.                         # prisma.something\n\\.findMany\\(                     # Prisma query methods\n\\.create\\(\n\\.update\\(\n\\.delete\\(\n\n# Controllers/Routes\nexport class.*Controller         # Controller classes\nrouter\\.                         # Express router\napp\\.(get|post|put|delete|patch) # Express app routes\n\n# Error Handling\ntry\\s*\\{                        # Try blocks\ncatch\\s*\\(                      # Catch blocks\nthrow new                        # Throw statements\n\n# React/Components\nexport.*React\\.FC               # React functional components\nexport default function.*       # Default function exports\nuseState|useEffect              # React hooks\n```\n\n---\n\n## Best Practices Summary\n\n### DO:\n‚úÖ Use specific, unambiguous keywords\n‚úÖ Test all patterns with real examples\n‚úÖ Include common variations\n‚úÖ Use non-greedy regex: `.*?`\n‚úÖ Escape special characters in content patterns\n‚úÖ Add exclusions for test files\n‚úÖ Make file path patterns narrow and specific\n\n### DON'T:\n‚ùå Use overly generic keywords (\"system\", \"work\")\n‚ùå Make intent patterns too broad (false positives)\n‚ùå Make patterns too specific (false negatives)\n‚ùå Forget to test with regex tester (https://regex101.com/)\n‚ùå Use greedy regex: `.*` instead of `.*?`\n‚ùå Match too broadly in file paths\n\n### Testing Your Triggers\n\n**Test keyword/intent triggers:**\n```bash\necho '{\"session_id\":\"test\",\"prompt\":\"your test prompt\"}' | \\\n  npx tsx .claude/hooks/skill-activation-prompt.ts\n```\n\n**Test file path/content triggers:**\n```bash\ncat <<'EOF' | npx tsx .claude/hooks/skill-verification-guard.ts\n{\n  \"session_id\": \"test\",\n  \"tool_name\": \"Edit\",\n  \"tool_input\": {\"file_path\": \"/path/to/test/file.ts\"}\n}\nEOF\n```\n\n---\n\n**Related Files:**\n- [SKILL.md](SKILL.md) - Main skill guide\n- [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md) - Complete skill-rules.json schema\n- [PATTERNS_LIBRARY.md](PATTERNS_LIBRARY.md) - Ready-to-use pattern library",
        "TROUBLESHOOTING.md": "# Troubleshooting - Skill Activation Issues\n\nComplete debugging guide for skill activation problems.\n\n## Table of Contents\n\n- [Skill Not Triggering](#skill-not-triggering)\n  - [UserPromptSubmit Not Suggesting](#userpromptsubmit-not-suggesting)\n  - [PreToolUse Not Blocking](#pretooluse-not-blocking)\n- [False Positives](#false-positives)\n- [Hook Not Executing](#hook-not-executing)\n- [Performance Issues](#performance-issues)\n\n---\n\n## Skill Not Triggering\n\n### UserPromptSubmit Not Suggesting\n\n**Symptoms:** Ask a question, but no skill suggestion appears in output.\n\n**Common Causes:**\n\n####  1. Keywords Don't Match\n\n**Check:**\n- Look at `promptTriggers.keywords` in skill-rules.json\n- Are the keywords actually in your prompt?\n- Remember: case-insensitive substring matching\n\n**Example:**\n```json\n\"keywords\": [\"layout\", \"grid\"]\n```\n- \"how does the layout work?\" ‚Üí ‚úÖ Matches \"layout\"\n- \"how does the grid system work?\" ‚Üí ‚úÖ Matches \"grid\"\n- \"how do layouts work?\" ‚Üí ‚úÖ Matches \"layout\"\n- \"how does it work?\" ‚Üí ‚ùå No match\n\n**Fix:** Add more keyword variations to skill-rules.json\n\n#### 2. Intent Patterns Too Specific\n\n**Check:**\n- Look at `promptTriggers.intentPatterns`\n- Test regex at https://regex101.com/\n- May need broader patterns\n\n**Example:**\n```json\n\"intentPatterns\": [\n  \"(create|add).*?(database.*?table)\"  // Too specific\n]\n```\n- \"create a database table\" ‚Üí ‚úÖ Matches\n- \"add new table\" ‚Üí ‚ùå Doesn't match (missing \"database\")\n\n**Fix:** Broaden the pattern:\n```json\n\"intentPatterns\": [\n  \"(create|add).*?(table|database)\"  // Better\n]\n```\n\n#### 3. Typo in Skill Name\n\n**Check:**\n- Skill name in SKILL.md frontmatter\n- Skill name in skill-rules.json\n- Must match exactly\n\n**Example:**\n```yaml\n# SKILL.md\nname: project-catalog-developer\n```\n```json\n// skill-rules.json\n\"project-catalogue-developer\": {  // ‚ùå Typo: catalogue vs catalog\n  ...\n}\n```\n\n**Fix:** Make names match exactly\n\n#### 4. JSON Syntax Error\n\n**Check:**\n```bash\ncat .claude/skills/skill-rules.json | jq .\n```\n\nIf invalid JSON, jq will show the error.\n\n**Common errors:**\n- Trailing commas\n- Missing quotes\n- Single quotes instead of double\n- Unescaped characters in strings\n\n**Fix:** Correct JSON syntax, validate with jq\n\n#### Debug Command\n\nTest the hook manually:\n\n```bash\necho '{\"session_id\":\"debug\",\"prompt\":\"your test prompt here\"}' | \\\n  npx tsx .claude/hooks/skill-activation-prompt.ts\n```\n\nExpected: Your skill should appear in the output.\n\n---\n\n### PreToolUse Not Blocking\n\n**Symptoms:** Edit a file that should trigger a guardrail, but no block occurs.\n\n**Common Causes:**\n\n#### 1. File Path Doesn't Match Patterns\n\n**Check:**\n- File path being edited\n- `fileTriggers.pathPatterns` in skill-rules.json\n- Glob pattern syntax\n\n**Example:**\n```json\n\"pathPatterns\": [\n  \"frontend/src/**/*.tsx\"\n]\n```\n- Editing: `frontend/src/components/Dashboard.tsx` ‚Üí ‚úÖ Matches\n- Editing: `frontend/tests/Dashboard.test.tsx` ‚Üí ‚úÖ Matches (add exclusion!)\n- Editing: `backend/src/app.ts` ‚Üí ‚ùå Doesn't match\n\n**Fix:** Adjust glob patterns or add the missing path\n\n#### 2. Excluded by pathExclusions\n\n**Check:**\n- Are you editing a test file?\n- Look at `fileTriggers.pathExclusions`\n\n**Example:**\n```json\n\"pathExclusions\": [\n  \"**/*.test.ts\",\n  \"**/*.spec.ts\"\n]\n```\n- Editing: `services/user.test.ts` ‚Üí ‚ùå Excluded\n- Editing: `services/user.ts` ‚Üí ‚úÖ Not excluded\n\n**Fix:** If test exclusion too broad, narrow it or remove\n\n#### 3. Content Pattern Not Found\n\n**Check:**\n- Does the file actually contain the pattern?\n- Look at `fileTriggers.contentPatterns`\n- Is the regex correct?\n\n**Example:**\n```json\n\"contentPatterns\": [\n  \"import.*[Pp]risma\"\n]\n```\n- File has: `import { PrismaService } from './prisma'` ‚Üí ‚úÖ Matches\n- File has: `import { Database } from './db'` ‚Üí ‚ùå Doesn't match\n\n**Debug:**\n```bash\n# Check if pattern exists in file\ngrep -i \"prisma\" path/to/file.ts\n```\n\n**Fix:** Adjust content patterns or add missing imports\n\n#### 4. Session Already Used Skill\n\n**Check session state:**\n```bash\nls .claude/hooks/state/\ncat .claude/hooks/state/skills-used-{session-id}.json\n```\n\n**Example:**\n```json\n{\n  \"skills_used\": [\"database-verification\"],\n  \"files_verified\": []\n}\n```\n\nIf the skill is in `skills_used`, it won't block again in this session.\n\n**Fix:** Delete the state file to reset:\n```bash\nrm .claude/hooks/state/skills-used-{session-id}.json\n```\n\n#### 5. File Marker Present\n\n**Check file for skip marker:**\n```bash\ngrep \"@skip-validation\" path/to/file.ts\n```\n\nIf found, the file is permanently skipped.\n\n**Fix:** Remove the marker if verification is needed again\n\n#### 6. Environment Variable Override\n\n**Check:**\n```bash\necho $SKIP_DB_VERIFICATION\necho $SKIP_SKILL_GUARDRAILS\n```\n\nIf set, the skill is disabled.\n\n**Fix:** Unset the environment variable:\n```bash\nunset SKIP_DB_VERIFICATION\n```\n\n#### Debug Command\n\nTest the hook manually:\n\n```bash\ncat <<'EOF' | npx tsx .claude/hooks/skill-verification-guard.ts 2>&1\n{\n  \"session_id\": \"debug\",\n  \"tool_name\": \"Edit\",\n  \"tool_input\": {\"file_path\": \"/root/git/your-project/form/src/services/user.ts\"}\n}\nEOF\necho \"Exit code: $?\"\n```\n\nExpected:\n- Exit code 2 + stderr message if should block\n- Exit code 0 + no output if should allow\n\n---\n\n## False Positives\n\n**Symptoms:** Skill triggers when it shouldn't.\n\n**Common Causes & Solutions:**\n\n### 1. Keywords Too Generic\n\n**Problem:**\n```json\n\"keywords\": [\"user\", \"system\", \"create\"]  // Too broad\n```\n- Triggers on: \"user manual\", \"file system\", \"create directory\"\n\n**Solution:** Make keywords more specific\n```json\n\"keywords\": [\n  \"user authentication\",\n  \"user tracking\",\n  \"create feature\"\n]\n```\n\n### 2. Intent Patterns Too Broad\n\n**Problem:**\n```json\n\"intentPatterns\": [\n  \"(create)\"  // Matches everything with \"create\"\n]\n```\n- Triggers on: \"create file\", \"create folder\", \"create account\"\n\n**Solution:** Add context to patterns\n```json\n\"intentPatterns\": [\n  \"(create|add).*?(database|table|feature)\"  // More specific\n]\n```\n\n**Advanced:** Use negative lookaheads to exclude\n```regex\n(create)(?!.*test).*?(feature)  // Don't match if \"test\" appears\n```\n\n### 3. File Paths Too Generic\n\n**Problem:**\n```json\n\"pathPatterns\": [\n  \"form/**\"  // Matches everything in form/\n]\n```\n- Triggers on: test files, config files, everything\n\n**Solution:** Use narrower patterns\n```json\n\"pathPatterns\": [\n  \"form/src/services/**/*.ts\",  // Only service files\n  \"form/src/controllers/**/*.ts\"\n]\n```\n\n### 4. Content Patterns Catching Unrelated Code\n\n**Problem:**\n```json\n\"contentPatterns\": [\n  \"Prisma\"  // Matches in comments, strings, etc.\n]\n```\n- Triggers on: `// Don't use Prisma here`\n- Triggers on: `const note = \"Prisma is cool\"`\n\n**Solution:** Make patterns more specific\n```json\n\"contentPatterns\": [\n  \"import.*[Pp]risma\",        // Only imports\n  \"PrismaService\\\\.\",         // Only actual usage\n  \"prisma\\\\.(findMany|create)\" // Specific methods\n]\n```\n\n### 5. Adjust Enforcement Level\n\n**Last resort:** If false positives are frequent:\n\n```json\n{\n  \"enforcement\": \"block\"  // Change to \"suggest\"\n}\n```\n\nThis makes it advisory instead of blocking.\n\n---\n\n## Hook Not Executing\n\n**Symptoms:** Hook doesn't run at all - no suggestion, no block.\n\n**Common Causes:**\n\n### 1. Hook Not Registered\n\n**Check `.claude/settings.json`:**\n```bash\ncat .claude/settings.json | jq '.hooks.UserPromptSubmit'\ncat .claude/settings.json | jq '.hooks.PreToolUse'\n```\n\nExpected: Hook entries present\n\n**Fix:** Add missing hook registration:\n```json\n{\n  \"hooks\": {\n    \"UserPromptSubmit\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"$CLAUDE_PROJECT_DIR/.claude/hooks/skill-activation-prompt.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### 2. Bash Wrapper Not Executable\n\n**Check:**\n```bash\nls -l .claude/hooks/*.sh\n```\n\nExpected: `-rwxr-xr-x` (executable)\n\n**Fix:**\n```bash\nchmod +x .claude/hooks/*.sh\n```\n\n### 3. Incorrect Shebang\n\n**Check:**\n```bash\nhead -1 .claude/hooks/skill-activation-prompt.sh\n```\n\nExpected: `#!/bin/bash`\n\n**Fix:** Add correct shebang to first line\n\n### 4. npx/tsx Not Available\n\n**Check:**\n```bash\nnpx tsx --version\n```\n\nExpected: Version number\n\n**Fix:** Install dependencies:\n```bash\ncd .claude/hooks\nnpm install\n```\n\n### 5. TypeScript Compilation Error\n\n**Check:**\n```bash\ncd .claude/hooks\nnpx tsc --noEmit skill-activation-prompt.ts\n```\n\nExpected: No output (no errors)\n\n**Fix:** Correct TypeScript syntax errors\n\n---\n\n## Performance Issues\n\n**Symptoms:** Hooks are slow, noticeable delay before prompt/edit.\n\n**Common Causes:**\n\n### 1. Too Many Patterns\n\n**Check:**\n- Count patterns in skill-rules.json\n- Each pattern = regex compilation + matching\n\n**Solution:** Reduce patterns\n- Combine similar patterns\n- Remove redundant patterns\n- Use more specific patterns (faster matching)\n\n### 2. Complex Regex\n\n**Problem:**\n```regex\n(create|add|modify|update|implement|build).*?(feature|endpoint|route|service|controller|component|UI|page)\n```\n- Long alternations = slow\n\n**Solution:** Simplify\n```regex\n(create|add).*?(feature|endpoint)  // Fewer alternatives\n```\n\n### 3. Too Many Files Checked\n\n**Problem:**\n```json\n\"pathPatterns\": [\n  \"**/*.ts\"  // Checks ALL TypeScript files\n]\n```\n\n**Solution:** Be more specific\n```json\n\"pathPatterns\": [\n  \"form/src/services/**/*.ts\",  // Only specific directory\n  \"form/src/controllers/**/*.ts\"\n]\n```\n\n### 4. Large Files\n\nContent pattern matching reads entire file - slow for large files.\n\n**Solution:**\n- Only use content patterns when necessary\n- Consider file size limits (future enhancement)\n\n### Measure Performance\n\n```bash\n# UserPromptSubmit\ntime echo '{\"prompt\":\"test\"}' | npx tsx .claude/hooks/skill-activation-prompt.ts\n\n# PreToolUse\ntime cat <<'EOF' | npx tsx .claude/hooks/skill-verification-guard.ts\n{\"tool_name\":\"Edit\",\"tool_input\":{\"file_path\":\"test.ts\"}}\nEOF\n```\n\n**Target metrics:**\n- UserPromptSubmit: < 100ms\n- PreToolUse: < 200ms\n\n---\n\n**Related Files:**\n- [SKILL.md](SKILL.md) - Main skill guide\n- [HOOK_MECHANISMS.md](HOOK_MECHANISMS.md) - How hooks work\n- [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md) - Configuration reference"
      }
    }
  },
  {
    "id": "tsc-check",
    "name": "TypeScript Check Hook",
    "category": "hooks",
    "description": "Automatically runs TypeScript type checking before tool execution to catch type errors early in development",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "typescript",
      "validation",
      "build",
      "type-checking",
      "pre-hook"
    ],
    "featured": true,
    "files": {
      "main": "tsc-check.sh"
    },
    "hookConfig": {
      "event": "PreToolUse",
      "matcher": "Write|Edit",
      "command": ".claude/hooks/tsc-check.sh",
      "type": "command",
      "timeout": null
    },
    "requirements": {
      "runtime": [
        "TypeScript (installed in project via npm/pnpm/yarn)"
      ],
      "files": [
        "tsconfig.json or tsconfig.app.json or tsconfig.build.json"
      ],
      "env": []
    },
    "setup": {
      "script": "setup.sh",
      "description": "Verifies TypeScript installation and tsconfig.json presence"
    },
    "installation": {
      "targetDir": ".claude/hooks",
      "instructions": "Make executable: chmod +x .claude/hooks/tsc-check.sh. Requires TypeScript installed in project."
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/hooks/tsc-check"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 5,
    "content": {
      "main": "#!/bin/bash\n\n# TSC Hook with Visible Output\n# Uses stderr for visibility in Claude Code main interface\n\nCLAUDE_PROJECT_DIR=\"${CLAUDE_PROJECT_DIR:-$HOME/project}\"\nHOOK_INPUT=$(cat)\nSESSION_ID=\"${session_id:-default}\"\nCACHE_DIR=\"$HOME/.claude/tsc-cache/$SESSION_ID\"\n\n# Create cache directory\nmkdir -p \"$CACHE_DIR\"\n\n# Extract tool name and input\nTOOL_NAME=$(echo \"$HOOK_INPUT\" | jq -r '.tool_name // \"\"')\nTOOL_INPUT=$(echo \"$HOOK_INPUT\" | jq -r '.tool_input // {}')\n\n# Function to get repo for a file\nget_repo_for_file() {\n    local file_path=\"$1\"\n    local relative_path=\"${file_path#$CLAUDE_PROJECT_DIR/}\"\n    \n    if [[ \"$relative_path\" =~ ^([^/]+)/ ]]; then\n        local repo=\"${BASH_REMATCH[1]}\"\n        case \"$repo\" in\n            email|exports|form|frontend|projects|uploads|users|utilities|events|database)\n                echo \"$repo\"\n                return 0\n                ;;\n        esac\n    fi\n    echo \"\"\n    return 1\n}\n\n# Function to detect the correct TSC command for a repo\nget_tsc_command() {\n    local repo_path=\"$1\"\n    cd \"$repo_path\" 2>/dev/null || return 1\n    \n    if [ -f \"tsconfig.app.json\" ]; then\n        echo \"npx tsc --project tsconfig.app.json --noEmit\"\n    elif [ -f \"tsconfig.build.json\" ]; then\n        echo \"npx tsc --project tsconfig.build.json --noEmit\"\n    elif [ -f \"tsconfig.json\" ]; then\n        if grep -q '\"references\"' tsconfig.json 2>/dev/null; then\n            if [ -f \"tsconfig.app.json\" ]; then\n                echo \"npx tsc --project tsconfig.app.json --noEmit\"\n            elif [ -f \"tsconfig.src.json\" ]; then\n                echo \"npx tsc --project tsconfig.src.json --noEmit\"\n            else\n                echo \"npx tsc --build --noEmit\"\n            fi\n        else\n            echo \"npx tsc --noEmit\"\n        fi\n    else\n        echo \"npx tsc --noEmit\"\n    fi\n}\n\n# Function to run TSC check\nrun_tsc_check() {\n    local repo=\"$1\"\n    local repo_path=\"$CLAUDE_PROJECT_DIR/$repo\"\n    local cache_file=\"$CACHE_DIR/$repo-tsc-cmd.cache\"\n    \n    cd \"$repo_path\" 2>/dev/null || return 1\n    \n    # Get or cache the TSC command for this repo\n    local tsc_cmd\n    if [ -f \"$cache_file\" ] && [ -z \"$FORCE_DETECT\" ]; then\n        tsc_cmd=$(cat \"$cache_file\")\n    else\n        tsc_cmd=$(get_tsc_command \"$repo_path\")\n        echo \"$tsc_cmd\" > \"$cache_file\"\n    fi\n    \n    eval \"$tsc_cmd\" 2>&1\n}\n\n# Only process file modification tools\ncase \"$TOOL_NAME\" in\n    Write|Edit|MultiEdit)\n        # Extract file paths\n        if [ \"$TOOL_NAME\" = \"MultiEdit\" ]; then\n            FILE_PATHS=$(echo \"$TOOL_INPUT\" | jq -r '.edits[].file_path // empty')\n        else\n            FILE_PATHS=$(echo \"$TOOL_INPUT\" | jq -r '.file_path // empty')\n        fi\n        \n        # Collect repos that need checking (only for TS/JS files)\n        REPOS_TO_CHECK=$(echo \"$FILE_PATHS\" | grep -E '\\.(ts|tsx|js|jsx)$' | while read -r file_path; do\n            if [ -n \"$file_path\" ]; then\n                repo=$(get_repo_for_file \"$file_path\")\n                [ -n \"$repo\" ] && echo \"$repo\"\n            fi\n        done | sort -u | tr '\\n' ' ')\n        \n        # Trim whitespace\n        REPOS_TO_CHECK=$(echo \"$REPOS_TO_CHECK\" | xargs)\n        \n        if [ -n \"$REPOS_TO_CHECK\" ]; then\n            ERROR_COUNT=0\n            ERROR_OUTPUT=\"\"\n            FAILED_REPOS=\"\"\n            \n            # Output to stderr for visibility\n            echo \"‚ö° TypeScript check on: $REPOS_TO_CHECK\" >&2\n            \n            for repo in $REPOS_TO_CHECK; do\n                echo -n \"  Checking $repo... \" >&2\n                \n                # Run the check and capture output\n                CHECK_OUTPUT=$(run_tsc_check \"$repo\" 2>&1)\n                CHECK_EXIT_CODE=$?\n                \n                # Check for TypeScript errors in output\n                if [ $CHECK_EXIT_CODE -ne 0 ] || echo \"$CHECK_OUTPUT\" | grep -q \"error TS\"; then\n                    echo \"‚ùå Errors found\" >&2\n                    ERROR_COUNT=$((ERROR_COUNT + 1))\n                    FAILED_REPOS=\"$FAILED_REPOS $repo\"\n                    ERROR_OUTPUT=\"${ERROR_OUTPUT}\n\n=== Errors in $repo ===\n$CHECK_OUTPUT\"\n                else\n                    echo \"‚úÖ OK\" >&2\n                fi\n            done\n            \n            # If errors were found, show them and save for agent\n            if [ $ERROR_COUNT -gt 0 ]; then\n                # Save error information for the agent\n                echo \"$ERROR_OUTPUT\" > \"$CACHE_DIR/last-errors.txt\"\n                echo \"$FAILED_REPOS\" > \"$CACHE_DIR/affected-repos.txt\"\n                \n                # Save the TSC commands used for each repo\n                echo \"# TSC Commands by Repo\" > \"$CACHE_DIR/tsc-commands.txt\"\n                for repo in $FAILED_REPOS; do\n                    cmd=$(cat \"$CACHE_DIR/$repo-tsc-cmd.cache\" 2>/dev/null || echo \"npx tsc --noEmit\")\n                    echo \"$repo: $cmd\" >> \"$CACHE_DIR/tsc-commands.txt\"\n                done\n                \n                # Output to stderr for visibility\n                {\n                    echo \"\"\n                    echo \"‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\"\n                    echo \"üö® TypeScript errors found in $ERROR_COUNT repo(s): $FAILED_REPOS\"\n                    echo \"‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\"\n                    echo \"\"\n                    echo \"üëâ IMPORTANT: Use the auto-error-resolver agent to fix the errors\"\n                    echo \"\"\n                    echo \"WE DO NOT LEAVE A MESS BEHIND\"\n                    echo \"Error Preview:\"\n                    echo \"$ERROR_OUTPUT\" | grep \"error TS\" | head -10\n                    echo \"\"\n                    if [ $(echo \"$ERROR_OUTPUT\" | grep -c \"error TS\") -gt 10 ]; then\n                        echo \"... and $(($(echo \"$ERROR_OUTPUT\" | grep -c \"error TS\") - 10)) more errors\"\n                    fi\n                } >&2\n                \n                # Exit with code 1 to make stderr visible\n                exit 1\n            fi\n        fi\n        ;;\nesac\n\n# Cleanup old cache directories (older than 7 days)\nfind \"$HOME/.claude/tsc-cache\" -maxdepth 1 -type d -mtime +7 -exec rm -rf {} \\; 2>/dev/null || true\n\nexit 0"
    }
  },
  {
    "id": "trigger-build-resolver",
    "name": "Build Resolver Trigger Hook",
    "category": "hooks",
    "description": "Triggers build processes and resolves build configurations automatically when file changes are detected",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "build",
      "automation",
      "resolver",
      "configuration"
    ],
    "featured": false,
    "files": {
      "main": "trigger-build-resolver.sh"
    },
    "hookConfig": {
      "event": "PostToolUse",
      "matcher": null,
      "command": ".claude/hooks/trigger-build-resolver.sh",
      "type": "command",
      "timeout": null
    },
    "requirements": {
      "runtime": [
        "claude CLI (must be in PATH)"
      ],
      "files": [],
      "env": []
    },
    "installation": {
      "targetDir": ".claude/hooks",
      "instructions": "Make executable: chmod +x .claude/hooks/trigger-build-resolver.sh"
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/hooks/trigger-build-resolver"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": "#!/bin/bash\necho \"Hook triggered at $(date)\" >> /tmp/claude-hook-debug.log\necho \"Args: $@\" >> /tmp/claude-hook-debug.log\necho \"Stdin:\" >> /tmp/claude-hook-debug.log\ncat >> /tmp/claude-hook-debug.log\n\n# Add detailed debugging\necho \"=== DEBUG SECTION ===\" >> /tmp/claude-hook-debug.log\necho \"CLAUDE_PROJECT_DIR: $CLAUDE_PROJECT_DIR\" >> /tmp/claude-hook-debug.log\necho \"Current working directory: $(pwd)\" >> /tmp/claude-hook-debug.log\n\n# Define the service directories to check\nservices_dirs=(\"email\" \"exports\" \"form\" \"frontend\" \"projects\" \"uploads\" \"users\" \"utilities\" \"events\" \"database\")\nservices_with_changes=()\n\n# Check each service directory for git changes\nfor service in \"${services_dirs[@]}\"; do\n    service_path=\"$CLAUDE_PROJECT_DIR/$service\"\n    echo \"Checking service: $service at $service_path\" >> /tmp/claude-hook-debug.log\n    \n    # Check if directory exists and is a git repo\n    if [ -d \"$service_path\" ] && [ -d \"$service_path/.git\" ]; then\n        echo \"  -> Is a git repository\" >> /tmp/claude-hook-debug.log\n        \n        # Check for changes in this specific repo\n        cd \"$service_path\"\n        git_status=$(git status --porcelain 2>/dev/null)\n        \n        if [ -n \"$git_status\" ]; then\n            echo \"  -> Has changes:\" >> /tmp/claude-hook-debug.log\n            echo \"$git_status\" | sed 's/^/    /' >> /tmp/claude-hook-debug.log\n            services_with_changes+=(\"$service\")\n        else\n            echo \"  -> No changes\" >> /tmp/claude-hook-debug.log\n        fi\n    else\n        echo \"  -> Not a git repository or doesn't exist\" >> /tmp/claude-hook-debug.log\n    fi\ndone\n\n# Return to original directory\ncd \"$CLAUDE_PROJECT_DIR\"\n\necho \"Services with changes: ${services_with_changes[@]}\" >> /tmp/claude-hook-debug.log\n\nif [[ ${#services_with_changes[@]} -gt 0 ]]; then\n    services_list=$(IFS=', '; echo \"${services_with_changes[*]}\")\n    echo \"Changes detected in: $services_list ‚Äî triggering build-error-resolver...\" >> /tmp/claude-hook-debug.log\n    echo \"Changes detected in: $services_list ‚Äî triggering build-error-resolver...\" >&2\n\n    # Use the correct Claude CLI syntax - try different options\n    echo \"Attempting to run claude with sub-agent...\" >> /tmp/claude-hook-debug.log\n    \n    # Try different possible syntaxes for sub-agents\n    if command -v claude >/dev/null 2>&1; then\n        # Option 1: Try direct agent invocation\n        claude --agent build-error-resolver <<EOF 2>> /tmp/claude-hook-debug.log\nBuild and fix errors in these specific services only: ${services_list}\n\nFocus on these services in the monorepo structure. Each service has its own build process.\nEOF\n        \n        # If that fails, try alternative syntax\n        if [ $? -ne 0 ]; then\n            echo \"First attempt failed, trying alternative syntax...\" >> /tmp/claude-hook-debug.log\n            claude chat \"Use the build-error-resolver agent to build and fix errors in: ${services_list}\" 2>> /tmp/claude-hook-debug.log\n        fi\n    else\n        echo \"Claude CLI not found in PATH\" >> /tmp/claude-hook-debug.log\n    fi\n    \n    echo \"Claude command completed with exit code: $?\" >> /tmp/claude-hook-debug.log\nelse\n    echo \"No services with changes detected ‚Äî skipping build-error-resolver.\" >> /tmp/claude-hook-debug.log\n    echo \"No services with changes detected ‚Äî skipping build-error-resolver.\" >&2\nfi\n\necho \"=== END DEBUG SECTION ===\" >> /tmp/claude-hook-debug.log\nexit 0"
    }
  },
  {
    "id": "code-refactor-master",
    "name": "Code Refactor Master",
    "category": "agents",
    "description": "Automates safe codebase refactors with structured prompts, review steps, and diff summaries.",
    "author": "Contributor",
    "version": "0.1.0",
    "tags": [
      "refactor",
      "automation",
      "code-quality",
      "agents"
    ],
    "featured": false,
    "files": {
      "main": "code-refactor-master.md"
    },
    "installation": {
      "targetDir": ".claude/agents/code-refactor-master",
      "instructions": "Copy the agent files into the target directory."
    },
    "lastUpdated": "2025-11-18T02:02:12.138Z",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": "---\nname: code-refactor-master\ndescription: Use this agent when you need to refactor code for better organization, cleaner architecture, or improved maintainability. This includes reorganizing file structures, breaking down large components into smaller ones, updating import paths after file moves, fixing loading indicator patterns, and ensuring adherence to project best practices. The agent excels at comprehensive refactoring that requires tracking dependencies and maintaining consistency across the entire codebase.\\n\\n<example>\\nContext: The user wants to reorganize a messy component structure with large files and poor organization.\\nuser: \"This components folder is a mess with huge files. Can you help refactor it?\"\\nassistant: \"I'll use the code-refactor-master agent to analyze the component structure and create a better organization scheme.\"\\n<commentary>\\nSince the user needs help with refactoring and reorganizing components, use the code-refactor-master agent to analyze the current structure and propose improvements.\\n</commentary>\\n</example>\\n\\n<example>\\nContext: The user has identified multiple components using early returns with loading indicators instead of proper loading components.\\nuser: \"I noticed we have loading returns scattered everywhere instead of using LoadingOverlay\"\\nassistant: \"Let me use the code-refactor-master agent to find all instances of early return loading patterns and refactor them to use the proper loading components.\"\\n<commentary>\\nThe user has identified a pattern that violates best practices, so use the code-refactor-master agent to systematically find and fix all occurrences.\\n</commentary>\\n</example>\\n\\n<example>\\nContext: The user wants to break down a large component file into smaller, more manageable pieces.\\nuser: \"The Dashboard.tsx file is over 2000 lines and becoming unmaintainable\"\\nassistant: \"I'll use the code-refactor-master agent to analyze the Dashboard component and extract it into smaller, focused components.\"\\n<commentary>\\nThe user needs help breaking down a large component, which requires careful analysis of dependencies and proper extraction - perfect for the code-refactor-master agent.\\n</commentary>\\n</example>\nmodel: sonnet\ncolor: cyan\n---\n\nYou are the Code Refactor Master, an elite specialist in code organization, architecture improvement, and meticulous refactoring. Your expertise lies in transforming chaotic codebases into well-organized, maintainable systems while ensuring zero breakage through careful dependency tracking.\n\n**Core Responsibilities:**\n\n1. **File Organization & Structure**\n   - You analyze existing file structures and devise significantly better organizational schemes\n   - You create logical directory hierarchies that group related functionality\n   - You establish clear naming conventions that improve code discoverability\n   - You ensure consistent patterns across the entire codebase\n\n2. **Dependency Tracking & Import Management**\n   - Before moving ANY file, you MUST search for and document every single import of that file\n   - You maintain a comprehensive map of all file dependencies\n   - You update all import paths systematically after file relocations\n   - You verify no broken imports remain after refactoring\n\n3. **Component Refactoring**\n   - You identify oversized components and extract them into smaller, focused units\n   - You recognize repeated patterns and abstract them into reusable components\n   - You ensure proper prop drilling is avoided through context or composition\n   - You maintain component cohesion while reducing coupling\n\n4. **Loading Pattern Enforcement**\n   - You MUST find ALL files containing early returns with loading indicators\n   - You replace improper loading patterns with LoadingOverlay, SuspenseLoader, or PaperWrapper's built-in loading indicator\n   - You ensure consistent loading UX across the application\n   - You flag any deviation from established loading best practices\n\n5. **Best Practices & Code Quality**\n   - You identify and fix anti-patterns throughout the codebase\n   - You ensure proper separation of concerns\n   - You enforce consistent error handling patterns\n   - You optimize performance bottlenecks during refactoring\n   - You maintain or improve TypeScript type safety\n\n**Your Refactoring Process:**\n\n1. **Discovery Phase**\n   - Analyze the current file structure and identify problem areas\n   - Map all dependencies and import relationships\n   - Document all instances of anti-patterns (especially early return loading)\n   - Create a comprehensive inventory of refactoring opportunities\n\n2. **Planning Phase**\n   - Design the new organizational structure with clear rationale\n   - Create a dependency update matrix showing all required import changes\n   - Plan component extraction strategy with minimal disruption\n   - Identify the order of operations to prevent breaking changes\n\n3. **Execution Phase**\n   - Execute refactoring in logical, atomic steps\n   - Update all imports immediately after each file move\n   - Extract components with clear interfaces and responsibilities\n   - Replace all improper loading patterns with approved alternatives\n\n4. **Verification Phase**\n   - Verify all imports resolve correctly\n   - Ensure no functionality has been broken\n   - Confirm all loading patterns follow best practices\n   - Validate that the new structure improves maintainability\n\n**Critical Rules:**\n- NEVER move a file without first documenting ALL its importers\n- NEVER leave broken imports in the codebase\n- NEVER allow early returns with loading indicators to remain\n- ALWAYS use LoadingOverlay, SuspenseLoader, or PaperWrapper's loading for loading states\n- ALWAYS maintain backward compatibility unless explicitly approved to break it\n- ALWAYS group related functionality together in the new structure\n- ALWAYS extract large components into smaller, testable units\n\n**Quality Metrics You Enforce:**\n- No component should exceed 300 lines (excluding imports/exports)\n- No file should have more than 5 levels of nesting\n- All loading states must use approved loading components\n- Import paths should be relative within modules, absolute across modules\n- Each directory should have a clear, single responsibility\n\n**Output Format:**\nWhen presenting refactoring plans, you provide:\n1. Current structure analysis with identified issues\n2. Proposed new structure with justification\n3. Complete dependency map with all files affected\n4. Step-by-step migration plan with import updates\n5. List of all anti-patterns found and their fixes\n6. Risk assessment and mitigation strategies\n\nYou are meticulous, systematic, and never rush. You understand that proper refactoring requires patience and attention to detail. Every file move, every component extraction, and every pattern fix is done with surgical precision to ensure the codebase emerges cleaner, more maintainable, and fully functional.\n"
    }
  },
  {
    "id": "dev-docs",
    "name": "Dev Docs Command",
    "category": "slash-commands",
    "description": "Create a comprehensive strategic plan with structured task breakdown and task artifacts under dev/.",
    "author": "Contributor",
    "version": "1.0.0",
    "tags": [
      "planning",
      "strategy",
      "tasks",
      "documentation",
      "slash-command"
    ],
    "featured": false,
    "files": {
      "main": "dev-docs.md"
    },
    "installation": {
      "targetDir": ".claude/slash-commands/dev-docs",
      "instructions": "Copy dev-docs.md into the target directory."
    },
    "lastUpdated": "2025-11-18T02:02:12.157Z",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": "---\ndescription: Create a comprehensive strategic plan with structured task breakdown\nargument-hint: Describe what you need planned (e.g., \"refactor authentication system\", \"implement microservices\")\n---\n\nYou are an elite strategic planning specialist. Create a comprehensive, actionable plan for: $ARGUMENTS\n\n## Instructions\n\n1. **Analyze the request** and determine the scope of planning needed\n2. **Examine relevant files** in the codebase to understand current state\n3. **Create a structured plan** with:\n   - Executive Summary\n   - Current State Analysis\n   - Proposed Future State\n   - Implementation Phases (broken into sections)\n   - Detailed Tasks (actionable items with clear acceptance criteria)\n   - Risk Assessment and Mitigation Strategies\n   - Success Metrics\n   - Required Resources and Dependencies\n   - Timeline Estimates\n\n4. **Task Breakdown Structure**:\n   - Each major section represents a phase or component\n   - Number and prioritize tasks within sections\n   - Include clear acceptance criteria for each task\n   - Specify dependencies between tasks\n   - Estimate effort levels (S/M/L/XL)\n\n5. **Create task management structure**:\n   - Create directory: `dev/active/[task-name]/` (relative to project root)\n   - Generate three files:\n     - `[task-name]-plan.md` - The comprehensive plan\n     - `[task-name]-context.md` - Key files, decisions, dependencies\n     - `[task-name]-tasks.md` - Checklist format for tracking progress\n   - Include \"Last Updated: YYYY-MM-DD\" in each file\n\n## Quality Standards\n- Plans must be self-contained with all necessary context\n- Use clear, actionable language\n- Include specific technical details where relevant\n- Consider both technical and business perspectives\n- Account for potential risks and edge cases\n\n## Context References\n- Check `PROJECT_KNOWLEDGE.md` for architecture overview (if exists)\n- Consult `BEST_PRACTICES.md` for coding standards (if exists)\n- Reference `TROUBLESHOOTING.md` for common issues to avoid (if exists)\n- Use `dev/README.md` for task management guidelines (if exists)\n\n**Note**: This command is ideal to use AFTER exiting plan mode when you have a clear vision of what needs to be done. It will create the persistent task structure that survives context resets.\n"
    }
  },
  {
    "id": "next-devtools",
    "name": "Next DevTools MCP",
    "category": "mcp",
    "description": "Adds the Next DevTools MCP server so Claude Code can access Next.js developer tooling.",
    "author": "Contributor",
    "version": "0.1.0",
    "tags": [
      "mcp",
      "nextjs",
      "devtools",
      "integration"
    ],
    "featured": false,
    "installation": {
      "instructions": "claude mcp add next-devtools npx next-devtools-mcp@latest"
    },
    "lastUpdated": "2025-11-18T02:02:12.176Z",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": ""
    }
  },
  {
    "id": "post-tool-use-tracker",
    "name": "Post Tool Use Tracker",
    "category": "hooks",
    "description": "Tracks and logs tool usage analytics after each Claude Code tool execution for monitoring and optimization",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "analytics",
      "tracking",
      "monitoring",
      "post-hook",
      "logging"
    ],
    "featured": false,
    "files": {
      "main": "post-tool-use-tracker.sh"
    },
    "hookConfig": {
      "event": "PostToolUse",
      "matcher": "Edit|Write",
      "command": ".claude/hooks/post-tool-use-tracker.sh",
      "type": "command",
      "timeout": null
    },
    "requirements": {
      "runtime": [
        "Git (for repository detection)"
      ],
      "files": [],
      "env": []
    },
    "installation": {
      "targetDir": ".claude/hooks",
      "instructions": "Make executable: chmod +x .claude/hooks/post-tool-use-tracker.sh"
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/hooks/post-tool-use-tracker"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": "#!/bin/bash\nset -e\n\n# Post-tool-use hook that tracks edited files and their repos\n# This runs after Edit, MultiEdit, or Write tools complete successfully\n\n\n# Read tool information from stdin\ntool_info=$(cat)\n\n\n# Extract relevant data\ntool_name=$(echo \"$tool_info\" | jq -r '.tool_name // empty')\nfile_path=$(echo \"$tool_info\" | jq -r '.tool_input.file_path // empty')\nsession_id=$(echo \"$tool_info\" | jq -r '.session_id // empty')\n\n\n# Skip if not an edit tool or no file path\nif [[ ! \"$tool_name\" =~ ^(Edit|MultiEdit|Write)$ ]] || [[ -z \"$file_path\" ]]; then\n    exit 0  # Exit 0 for skip conditions\nfi\n\n# Skip markdown files\nif [[ \"$file_path\" =~ \\.(md|markdown)$ ]]; then\n    exit 0  # Exit 0 for skip conditions\nfi\n\n# Create cache directory in project\ncache_dir=\"$CLAUDE_PROJECT_DIR/.claude/tsc-cache/${session_id:-default}\"\nmkdir -p \"$cache_dir\"\n\n# Function to detect repo from file path\ndetect_repo() {\n    local file=\"$1\"\n    local project_root=\"$CLAUDE_PROJECT_DIR\"\n\n    # Remove project root from path\n    local relative_path=\"${file#$project_root/}\"\n\n    # Extract first directory component\n    local repo=$(echo \"$relative_path\" | cut -d'/' -f1)\n\n    # Common project directory patterns\n    case \"$repo\" in\n        # Frontend variations\n        frontend|client|web|app|ui)\n            echo \"$repo\"\n            ;;\n        # Backend variations\n        backend|server|api|src|services)\n            echo \"$repo\"\n            ;;\n        # Database\n        database|prisma|migrations)\n            echo \"$repo\"\n            ;;\n        # Package/monorepo structure\n        packages)\n            # For monorepos, get the package name\n            local package=$(echo \"$relative_path\" | cut -d'/' -f2)\n            if [[ -n \"$package\" ]]; then\n                echo \"packages/$package\"\n            else\n                echo \"$repo\"\n            fi\n            ;;\n        # Examples directory\n        examples)\n            local example=$(echo \"$relative_path\" | cut -d'/' -f2)\n            if [[ -n \"$example\" ]]; then\n                echo \"examples/$example\"\n            else\n                echo \"$repo\"\n            fi\n            ;;\n        *)\n            # Check if it's a source file in root\n            if [[ ! \"$relative_path\" =~ / ]]; then\n                echo \"root\"\n            else\n                echo \"unknown\"\n            fi\n            ;;\n    esac\n}\n\n# Function to get build command for repo\nget_build_command() {\n    local repo=\"$1\"\n    local project_root=\"$CLAUDE_PROJECT_DIR\"\n    local repo_path=\"$project_root/$repo\"\n\n    # Check if package.json exists and has a build script\n    if [[ -f \"$repo_path/package.json\" ]]; then\n        if grep -q '\"build\"' \"$repo_path/package.json\" 2>/dev/null; then\n            # Detect package manager (prefer pnpm, then npm, then yarn)\n            if [[ -f \"$repo_path/pnpm-lock.yaml\" ]]; then\n                echo \"cd $repo_path && pnpm build\"\n            elif [[ -f \"$repo_path/package-lock.json\" ]]; then\n                echo \"cd $repo_path && npm run build\"\n            elif [[ -f \"$repo_path/yarn.lock\" ]]; then\n                echo \"cd $repo_path && yarn build\"\n            else\n                echo \"cd $repo_path && npm run build\"\n            fi\n            return\n        fi\n    fi\n\n    # Special case for database with Prisma\n    if [[ \"$repo\" == \"database\" ]] || [[ \"$repo\" =~ prisma ]]; then\n        if [[ -f \"$repo_path/schema.prisma\" ]] || [[ -f \"$repo_path/prisma/schema.prisma\" ]]; then\n            echo \"cd $repo_path && npx prisma generate\"\n            return\n        fi\n    fi\n\n    # No build command found\n    echo \"\"\n}\n\n# Function to get TSC command for repo\nget_tsc_command() {\n    local repo=\"$1\"\n    local project_root=\"$CLAUDE_PROJECT_DIR\"\n    local repo_path=\"$project_root/$repo\"\n\n    # Check if tsconfig.json exists\n    if [[ -f \"$repo_path/tsconfig.json\" ]]; then\n        # Check for Vite/React-specific tsconfig\n        if [[ -f \"$repo_path/tsconfig.app.json\" ]]; then\n            echo \"cd $repo_path && npx tsc --project tsconfig.app.json --noEmit\"\n        else\n            echo \"cd $repo_path && npx tsc --noEmit\"\n        fi\n        return\n    fi\n\n    # No TypeScript config found\n    echo \"\"\n}\n\n# Detect repo\nrepo=$(detect_repo \"$file_path\")\n\n# Skip if unknown repo\nif [[ \"$repo\" == \"unknown\" ]] || [[ -z \"$repo\" ]]; then\n    exit 0  # Exit 0 for skip conditions\nfi\n\n# Log edited file\necho \"$(date +%s):$file_path:$repo\" >> \"$cache_dir/edited-files.log\"\n\n# Update affected repos list\nif ! grep -q \"^$repo$\" \"$cache_dir/affected-repos.txt\" 2>/dev/null; then\n    echo \"$repo\" >> \"$cache_dir/affected-repos.txt\"\nfi\n\n# Store build commands\nbuild_cmd=$(get_build_command \"$repo\")\ntsc_cmd=$(get_tsc_command \"$repo\")\n\nif [[ -n \"$build_cmd\" ]]; then\n    echo \"$repo:build:$build_cmd\" >> \"$cache_dir/commands.txt.tmp\"\nfi\n\nif [[ -n \"$tsc_cmd\" ]]; then\n    echo \"$repo:tsc:$tsc_cmd\" >> \"$cache_dir/commands.txt.tmp\"\nfi\n\n# Remove duplicates from commands\nif [[ -f \"$cache_dir/commands.txt.tmp\" ]]; then\n    sort -u \"$cache_dir/commands.txt.tmp\" > \"$cache_dir/commands.txt\"\n    rm -f \"$cache_dir/commands.txt.tmp\"\nfi\n\n# Exit cleanly\nexit 0"
    }
  },
  {
    "id": "shadcn",
    "name": "shadcn MCP",
    "category": "mcp",
    "description": "Adds the shadcn MCP server to integrate shadcn utilities with Claude Code.",
    "author": "Contributor",
    "version": "0.1.0",
    "tags": [
      "mcp",
      "shadcn",
      "ui",
      "integration"
    ],
    "featured": false,
    "installation": {
      "instructions": "claude mcp add shadcn -- npx shadcn@latest mcp"
    },
    "lastUpdated": "2025-11-18T02:02:12.194Z",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": ""
    }
  },
  {
    "id": "skill-optimizer",
    "name": "Skill Optimizer",
    "category": "skills",
    "description": "Optimize Claude Code skills for token efficiency using progressive disclosure and content loading order. Covers the 500-line rule and three-level loading architecture.",
    "author": "ClaudeSmith",
    "version": "1.0.0",
    "tags": [
      "optimization",
      "performance",
      "token-efficiency",
      "progressive-disclosure",
      "meta"
    ],
    "featured": false,
    "files": {
      "main": "SKILL.md",
      "additional": [
        "REFERENCE.md"
      ]
    },
    "installation": {
      "targetDir": ".claude/skills/skill-optimizer",
      "instructions": "After copying files, ensure the skill is registered in .claude/skills/skill-rules.json"
    },
    "repository": {
      "url": "https://github.com/JNLei/claude-tools/tree/main/skills/skill-optimizer"
    },
    "lastUpdated": "2025-11-17T17:51:39-05:00",
    "downloads": 0,
    "rating": 4,
    "content": {
      "main": "---\nname: skill-optimizer\ndescription: Optimize Claude Code skills for token efficiency using progressive disclosure and content loading order. Use when optimizing skills, reducing token usage, restructuring skill content, improving skill performance, analyzing skill size, applying 500-line rule, implementing progressive disclosure, organizing reference files, optimizing YAML frontmatter, reducing context consumption, improving skill architecture, analyzing token costs, splitting large skills, or working with skill content loading. Covers Level 1 (metadata), Level 2 (instructions), Level 3 (resources) loading optimization.\n---\n\n# Skill Optimizer\n\n## Purpose\n\nOptimize existing Claude Code skills to minimize token consumption by leveraging the three-level content loading architecture and progressive disclosure patterns.\n\n## When to Use\n\nUse this skill when:\n- Analyzing existing skills for optimization opportunities\n- Skills are too large (approaching or exceeding 500 lines)\n- Need to reduce context consumption\n- Restructuring skills for progressive disclosure\n- Converting monolithic skills to multi-file architecture\n- Optimizing YAML frontmatter for better discovery\n- Improving skill performance and load times\n- Auditing skills for token efficiency\n- Creating new skills with optimization in mind\n\n---\n\n## Content Loading Architecture\n\n### Three-Level Loading System\n\n**Level 1: Metadata (Always Loaded - ~100 tokens/skill)**\n- YAML frontmatter in SKILL.md\n- Loaded at startup into system prompt\n- Enables skill discovery without context overhead\n- **Optimization Target**: Description field (max 1024 chars)\n\n**Level 2: Instructions (Loaded When Triggered - <5,000 tokens)**\n- Main SKILL.md content\n- Loads dynamically when skill is relevant\n- Contains workflows, best practices, guidance\n- **Optimization Target**: Keep under 500 lines\n\n**Level 3: Resources (Loaded As Needed - Variable)**\n- Additional markdown files (REFERENCE.md, EXAMPLES.md, etc.)\n- Code scripts in scripts/ directory\n- Templates, schemas, documentation\n- **Optimization Target**: No penalty until accessed\n\n### Key Principle\n\n**\"Files don't consume context until accessed\"** - Bundle comprehensive documentation in reference files without context penalty.\n\n---\n\n## Quick Optimization Workflow\n\n### 1. Analyze Current State\n\n**Check skill size:**\n```bash\nwc -l .claude/skills/skill-name/SKILL.md\n```\n\n**Identify optimization opportunities:**\n- [ ] SKILL.md > 500 lines?\n- [ ] Detailed API docs in main file?\n- [ ] Extensive examples in main file?\n- [ ] Long reference tables or schemas?\n- [ ] Code snippets that could be scripts?\n- [ ] Multiple distinct topics/sections?\n\n### 2. Apply 500-Line Rule\n\n**If SKILL.md > 500 lines:**\n\n‚úÖ **Keep in main file:**\n- Purpose and when to use\n- Quick start / common workflows\n- Critical best practices\n- Brief examples (5-10 lines)\n- Cross-references to detailed files\n\n‚ùå **Move to reference files:**\n- Comprehensive API documentation\n- Extensive code examples (>20 lines)\n- Detailed troubleshooting guides\n- Pattern libraries\n- Schema definitions\n- Long reference tables\n\n### 3. Structure Reference Files\n\n**Create organized reference hierarchy:**\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md              # <500 lines, workflows & quick ref\n‚îú‚îÄ‚îÄ REFERENCE.md          # Comprehensive documentation\n‚îú‚îÄ‚îÄ EXAMPLES.md           # Detailed code examples\n‚îú‚îÄ‚îÄ PATTERNS.md           # Pattern library\n‚îú‚îÄ‚îÄ TROUBLESHOOTING.md    # Debug guide\n‚îî‚îÄ‚îÄ scripts/              # Executable utilities\n    ‚îî‚îÄ‚îÄ helper.sh\n```\n\n**Add table of contents to files >100 lines**\n\n### 4. Optimize YAML Frontmatter\n\n**Description optimization (max 1024 chars):**\n\n‚úÖ **Include:**\n- All trigger keywords and phrases\n- Use cases and scenarios\n- File types and technologies\n- Common action verbs\n- Related concepts\n\n‚ùå **Avoid:**\n- Generic descriptions\n- Missing key terms\n- Overly verbose explanations\n\n**Example:**\n```yaml\n---\nname: database-development\ndescription: Database development guidance for PostgreSQL including schema design, migrations, RLS policies, indexing strategies, privacy-preserving patterns, query optimization, and Prisma ORM. Use when working with tables, columns, indexes, migrations, RLS, Row-Level Security, database schema, SQL queries, Prisma schema, database optimization, privacy architecture, or PostgreSQL best practices.\n---\n```\n\n### 5. Implement Progressive Disclosure\n\n**Pattern:**\n```markdown\n## Topic Overview\n\nBrief explanation (2-3 sentences).\n\n**Key Points:**\n- Important consideration 1\n- Important consideration 2\n\n**For detailed information**: [REFERENCE.md](REFERENCE.md#topic-details)\n\n**Quick Example:**\n\\`\\`\\`typescript\n// Minimal working example (5-10 lines)\n\\`\\`\\`\n\n**For more examples**: [EXAMPLES.md](EXAMPLES.md#topic-examples)\n```\n\n---\n\n## Optimization Patterns Summary\n\n### Pattern 1: Extract API Documentation\n\n**Strategy**: Move detailed API docs to REFERENCE.md\n\n**Before**: 80+ lines of API documentation in SKILL.md\n**After**: 10-line summary with link to complete docs\n**Savings**: ~70 lines (~1,400 tokens)\n\n**For complete pattern details**: [REFERENCE.md](REFERENCE.md#pattern-1-extract-api-documentation)\n\n### Pattern 2: Extract Pattern Libraries\n\n**Strategy**: Move code patterns to PATTERNS.md\n\n**Before**: 200+ lines of pattern code in SKILL.md\n**After**: 18-line summary with quick example\n**Savings**: ~182 lines (~3,640 tokens)\n\n**For complete pattern details**: [REFERENCE.md](REFERENCE.md#pattern-2-extract-pattern-libraries)\n\n### Pattern 3: Extract Troubleshooting\n\n**Strategy**: Move debug guides to TROUBLESHOOTING.md\n\n**Before**: 300+ lines of troubleshooting in SKILL.md\n**After**: 18-line summary with quick diagnostics\n**Savings**: ~282 lines (~5,640 tokens)\n\n**For complete pattern details**: [REFERENCE.md](REFERENCE.md#pattern-3-extract-troubleshooting)\n\n### Pattern 4: Convert Code to Scripts\n\n**Strategy**: Move executable code to scripts/ directory\n\n**Before**: 55+ lines of bash script in SKILL.md\n**After**: 7-line reference to executable script\n**Savings**: ~48 lines (~960 tokens) + script code never enters context\n\n**For complete pattern details**: [REFERENCE.md](REFERENCE.md#pattern-4-convert-code-to-scripts)\n\n---\n\n## Common Anti-Patterns\n\nAvoid these common mistakes when creating or optimizing skills:\n\n‚ùå **Anti-Pattern 1: Monolithic Skills**\n- Single SKILL.md with 1000+ lines\n- Solution: Split into main + reference files\n\n‚ùå **Anti-Pattern 2: Incomplete References**\n- Reference files exist but not linked\n- Solution: Link all reference files from SKILL.md\n\n‚ùå **Anti-Pattern 3: Nested References**\n- References pointing to other references (>1 level)\n- Solution: Keep hierarchy flat (max 1 level)\n\n‚ùå **Anti-Pattern 4: Sparse Frontmatter**\n- Minimal YAML description missing keywords\n- Solution: Rich description with all triggers\n\n‚ùå **Anti-Pattern 5: Code as Documentation**\n- 100+ line scripts embedded in markdown\n- Solution: Move to scripts/ directory\n\n**For detailed anti-patterns and solutions**: [REFERENCE.md](REFERENCE.md#common-anti-patterns)\n\n---\n\n## Migration Workflow\n\n### Quick Migration Steps\n\n**Phase 1: Discovery**\n```bash\n# Check skill size\nwc -l .claude/skills/skill-name/SKILL.md\n\n# Identify sections to extract\ngrep \"^##\" .claude/skills/skill-name/SKILL.md\n```\n\n**Phase 2: Planning**\n- Design file hierarchy (SKILL.md + reference files)\n- Plan content distribution\n- Identify scripts to extract\n\n**Phase 3: Implementation**\n```bash\n# Create reference files\ntouch REFERENCE.md EXAMPLES.md\nmkdir -p scripts\n\n# Extract content systematically\n# 1. Copy section to reference file\n# 2. Replace in SKILL.md with summary + link\n# 3. Verify link works\n# 4. Remove detailed content from SKILL.md\n```\n\n**Phase 4: Optimization**\n- Trim remaining content\n- Optimize frontmatter with trigger keywords\n- Add navigation aids (table of contents)\n\n**Phase 5: Validation**\n```bash\n# Verify under 500 lines\nwc -l .claude/skills/skill-name/SKILL.md\n\n# Test links work\ngrep -o '\\[.*\\](.*\\.md#.*)' SKILL.md\n```\n\n**For complete migration workflow**: [REFERENCE.md](REFERENCE.md#complete-migration-workflow)\n\n---\n\n## Advanced Techniques\n\nQuick reference to advanced optimization strategies:\n\n**Technique 1: Conditional Content Loading**\n- Structure content so advanced sections load only when needed\n- Benefits: Most users don't load advanced content\n\n**Technique 2: Layered Examples**\n- Progressive complexity: minimal ‚Üí production ‚Üí enterprise\n- Benefits: Beginners see simple examples, advanced users access complex ones\n\n**Technique 3: Executable Documentation**\n- Scripts that both execute and document\n- Benefits: Zero token cost, self-documenting output\n\n**Technique 4: Tabular Compression**\n- Use tables to compress structured data\n- Benefits: 60%+ space reduction for configurations/options\n\n**Technique 5: Smart Chunking**\n- Group related small sections instead of individual extraction\n- Benefits: Better narrative flow, fewer cross-references\n\n**For detailed advanced techniques**: [REFERENCE.md](REFERENCE.md#advanced-optimization-techniques)\n\n---\n\n## Optimization Checklist\n\nWhen optimizing a skill, verify:\n\n### Content Structure\n- [ ] SKILL.md is under 500 lines\n- [ ] Main file contains quick reference only\n- [ ] Detailed docs moved to reference files\n- [ ] Reference files have table of contents (if >100 lines)\n- [ ] Cross-references use relative links\n- [ ] No deeply nested references (max 1 level)\n\n### YAML Frontmatter\n- [ ] Description includes all trigger keywords\n- [ ] Description is under 1024 characters\n- [ ] Description covers use cases and scenarios\n- [ ] Description mentions file types/technologies\n- [ ] Name follows kebab-case convention\n\n### Progressive Disclosure\n- [ ] Overview ‚Üí Details pattern used\n- [ ] Quick examples in main file (5-10 lines)\n- [ ] Extensive examples in EXAMPLES.md\n- [ ] Brief summaries with references to details\n- [ ] Common workflows highlighted in main file\n\n### File Organization\n- [ ] Reference files named clearly\n- [ ] Scripts in scripts/ directory\n- [ ] Scripts are executable (chmod +x)\n- [ ] No redundant content across files\n- [ ] Each file has single, clear purpose\n\n### Token Efficiency\n- [ ] Eliminated verbose explanations\n- [ ] Removed duplicate information\n- [ ] Used bullet points vs paragraphs\n- [ ] Moved large code blocks to reference files\n- [ ] Converted reusable code to scripts\n\n---\n\n## Measurement & Validation\n\n### Token Estimation\n\n**Quick estimate:**\n```bash\nlines=$(wc -l < SKILL.md)\ntokens=$((lines * 20))  # Conservative: 20 tokens/line\necho \"Estimated tokens: ~$tokens\"\n```\n\n**Target**: Keep SKILL.md under 10,000 tokens (~500 lines)\n\n### Before/After Comparison\n\n```bash\n# Calculate savings\nBEFORE=850  # lines before optimization\nAFTER=420   # lines after optimization\nSAVINGS=$((BEFORE - AFTER))\nTOKEN_SAVINGS=$((SAVINGS * 20))\n\necho \"Reduced by $SAVINGS lines\"\necho \"Estimated token savings: ~$TOKEN_SAVINGS tokens\"\n```\n\n### Quality Checks\n\n- [ ] All original information preserved\n- [ ] Links work correctly\n- [ ] Main file comprehensive for common cases\n- [ ] Reference files well-organized\n- [ ] Navigation intuitive\n\n**For detailed measurement methods**: [REFERENCE.md](REFERENCE.md#measurement--validation)\n\n---\n\n## Best Practices Summary\n\n‚úÖ **DO:**\n- Keep SKILL.md minimum but use other reference files to keep the full and detailed knowledge base\n- Use progressive disclosure (overview ‚Üí details)\n- Include all trigger keywords in description\n- Create clear cross-references to detailed docs\n- Add table of contents to reference files >100 lines\n- Convert reusable code to scripts\n- Test optimization with real usage\n\n‚ùå **DON'T:**\n- Exceed 500 lines in SKILL.md\n- Nest references more than 1 level deep\n- Include API docs in main file\n- Embed long code examples in main file\n- Create reference files without linking them\n- Use sparse YAML descriptions\n- Optimize without preserving critical info\n\n---\n\n## Quick Reference\n\n**File size limits:**\n- SKILL.md: <500 lines (strict)\n- Reference files: No limit (loaded on-demand)\n- YAML description: 1024 chars max\n\n**Optimization priority:**\n1. Apply 500-line rule to SKILL.md\n2. Extract API docs to REFERENCE.md\n3. Move examples to EXAMPLES.md or PATTERNS.md\n4. Convert scripts to scripts/ directory\n5. Enrich YAML frontmatter description\n\n**Common extractions:**\n- API documentation ‚Üí REFERENCE.md\n- Code examples ‚Üí EXAMPLES.md\n- Troubleshooting ‚Üí TROUBLESHOOTING.md\n- Pattern library ‚Üí PATTERNS.md\n- Scripts ‚Üí scripts/ directory\n\n**Typical token savings:**\n- API extraction: ~1,400 tokens\n- Pattern library: ~3,640 tokens\n- Troubleshooting: ~5,640 tokens\n- Scripts: ~960 tokens + no code in context\n\n**For comprehensive optimization patterns and detailed workflows**: [REFERENCE.md](REFERENCE.md)\n\n---\n\n## Real-World Example\n\n**Before optimization:**\n```\nskill-example/\n‚îî‚îÄ‚îÄ SKILL.md  (850 lines, ~17,000 tokens)\n```\n\n**After optimization:**\n```\nskill-example/\n‚îú‚îÄ‚îÄ SKILL.md              (420 lines, ~8,400 tokens)\n‚îú‚îÄ‚îÄ REFERENCE.md          (350 lines, loaded on-demand)\n‚îú‚îÄ‚îÄ EXAMPLES.md           (180 lines, loaded on-demand)\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ validate.sh       (code never enters context)\n    ‚îî‚îÄ‚îÄ setup.sh          (code never enters context)\n```\n\n**Result**: 50% token reduction on initial load, comprehensive docs still available on-demand\n\n---\n\n**Next Steps**:\n1. Audit existing skills: `wc -l .claude/skills/*/SKILL.md`\n2. Identify candidates for optimization (>500 lines)\n3. Apply optimization workflow\n4. Measure token savings\n5. Validate with real usage\n\n**For detailed guidance**: See [REFERENCE.md](REFERENCE.md) for complete optimization patterns, anti-patterns, migration workflows, and advanced techniques.\n",
      "additional": {
        "REFERENCE.md": "# Skill Optimizer Reference\n\nDetailed optimization patterns, anti-patterns, migration workflows, and advanced techniques.\n\n## Table of Contents\n\n- [Detailed Optimization Patterns](#detailed-optimization-patterns)\n  - [Pattern 1: Extract API Documentation](#pattern-1-extract-api-documentation)\n  - [Pattern 2: Extract Pattern Libraries](#pattern-2-extract-pattern-libraries)\n  - [Pattern 3: Extract Troubleshooting](#pattern-3-extract-troubleshooting)\n  - [Pattern 4: Convert Code to Scripts](#pattern-4-convert-code-to-scripts)\n- [Common Anti-Patterns](#common-anti-patterns)\n- [Complete Migration Workflow](#complete-migration-workflow)\n- [Advanced Optimization Techniques](#advanced-optimization-techniques)\n- [Measurement & Validation](#measurement--validation)\n\n---\n\n## Detailed Optimization Patterns\n\n### Pattern 1: Extract API Documentation\n\n**Before (in SKILL.md - consuming tokens):**\n```markdown\n## API Reference\n\n### Function: processData()\n**Signature**: processData(input: DataInput): Promise<DataOutput>\n**Parameters**:\n- input.field1: string - Description of field1 with detailed explanation of valid values, constraints, and validation rules\n- input.field2: number - Description of field2 with range specifications, default values, and edge cases to consider\n- input.field3: boolean - Description of field3 with behavior when true vs false and implications\n- input.field4: object - Nested object with multiple sub-fields\n  - field4.subfield1: string - Description...\n  - field4.subfield2: array - Description...\n**Returns**: Promise<DataOutput>\n- output.result: string - Detailed description of result format, possible values, and interpretation\n- output.metadata: object - Metadata object containing:\n  - metadata.timestamp: number - Unix timestamp\n  - metadata.version: string - API version used\n  - metadata.requestId: string - Unique request identifier\n**Throws**:\n- ValidationError - When input validation fails\n- ProcessingError - When data processing encounters issues\n- NetworkError - When network operations fail\n\n**Example**:\n\\`\\`\\`typescript\nimport { processData } from './processor';\n\nasync function example() {\n  try {\n    const input = {\n      field1: 'example value',\n      field2: 42,\n      field3: true,\n      field4: {\n        subfield1: 'nested value',\n        subfield2: ['item1', 'item2']\n      }\n    };\n\n    const result = await processData(input);\n\n    console.log('Result:', result.result);\n    console.log('Processed at:', new Date(result.metadata.timestamp));\n    console.log('Request ID:', result.metadata.requestId);\n\n    return result;\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      console.error('Invalid input:', error.message);\n    } else if (error instanceof ProcessingError) {\n      console.error('Processing failed:', error.message);\n    } else {\n      console.error('Unexpected error:', error);\n    }\n    throw error;\n  }\n}\n\\`\\`\\`\n\n**Error Handling**:\n- Always wrap calls in try-catch blocks\n- Check for specific error types to handle appropriately\n- Log errors with context for debugging\n- Consider retry logic for transient failures\n- Implement circuit breakers for external dependencies\n\n**Performance Considerations**:\n- Batch multiple calls when possible\n- Cache results when appropriate\n- Monitor processing time\n- Set appropriate timeouts\n```\n\n**After (in SKILL.md - minimal reference):**\n```markdown\n## API Overview\n\nKey functions: `processData()`, `validateInput()`, `formatOutput()`\n\n**Quick usage:**\n\\`\\`\\`typescript\nconst result = await processData({ field1: 'value' });\n\\`\\`\\`\n\n**Complete API reference**: [REFERENCE.md](REFERENCE.md#api-reference-complete)\n```\n\n**Savings**: ~80 lines ‚Üí 10 lines (87% reduction, ~1,400 tokens saved)\n\n**When to apply:**\n- API documentation >30 lines\n- Multiple function signatures\n- Detailed parameter descriptions\n- Extensive error handling documentation\n- Performance considerations and examples\n\n---\n\n### Pattern 2: Extract Pattern Libraries\n\n**Before (in SKILL.md - consuming tokens):**\n```markdown\n## Common Patterns\n\n### Pattern 1: Authentication Flow\n\\`\\`\\`typescript\nimport { authenticate, refreshToken, logout } from './auth';\n\nasync function authenticationFlow() {\n  // Initial authentication\n  const { accessToken, refreshToken: refresh } = await authenticate({\n    username: process.env.USERNAME,\n    password: process.env.PASSWORD\n  });\n\n  // Store tokens securely\n  secureStorage.set('access_token', accessToken);\n  secureStorage.set('refresh_token', refresh);\n\n  // Set up token refresh\n  const refreshInterval = setInterval(async () => {\n    try {\n      const newTokens = await refreshToken(refresh);\n      secureStorage.set('access_token', newTokens.accessToken);\n    } catch (error) {\n      clearInterval(refreshInterval);\n      await logout();\n    }\n  }, 15 * 60 * 1000); // Refresh every 15 minutes\n\n  return { accessToken, cleanup: () => clearInterval(refreshInterval) };\n}\n\\`\\`\\`\n\n**Explanation**: This pattern handles initial authentication, secure token storage, and automatic token refresh with cleanup.\n\n### Pattern 2: Error Handling with Retry Logic\n\\`\\`\\`typescript\nasync function withRetry<T>(\n  fn: () => Promise<T>,\n  maxRetries: number = 3,\n  delayMs: number = 1000\n): Promise<T> {\n  let lastError: Error;\n\n  for (let attempt = 0; attempt <= maxRetries; attempt++) {\n    try {\n      return await fn();\n    } catch (error) {\n      lastError = error as Error;\n\n      // Don't retry on certain errors\n      if (error instanceof ValidationError) {\n        throw error;\n      }\n\n      if (attempt < maxRetries) {\n        // Exponential backoff\n        const delay = delayMs * Math.pow(2, attempt);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n  }\n\n  throw new Error(`Failed after ${maxRetries} retries: ${lastError.message}`);\n}\n\n// Usage\nconst result = await withRetry(() => fetchData(), 3, 500);\n\\`\\`\\`\n\n**Explanation**: Implements exponential backoff retry logic with configurable attempts and delays.\n\n### Pattern 3: Data Validation\n\\`\\`\\`typescript\nimport { z } from 'zod';\n\n// Define schema\nconst UserSchema = z.object({\n  id: z.string().uuid(),\n  email: z.string().email(),\n  age: z.number().int().min(0).max(120),\n  roles: z.array(z.enum(['admin', 'user', 'guest'])),\n  metadata: z.record(z.unknown()).optional()\n});\n\ntype User = z.infer<typeof UserSchema>;\n\n// Validation function\nfunction validateUser(data: unknown): User {\n  try {\n    return UserSchema.parse(data);\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const issues = error.issues.map(i => `${i.path.join('.')}: ${i.message}`);\n      throw new ValidationError(`Invalid user data: ${issues.join(', ')}`);\n    }\n    throw error;\n  }\n}\n\n// Usage\nconst user = validateUser(rawData);\n\\`\\`\\`\n\n**Explanation**: Uses Zod for runtime type validation with clear error messages.\n\n### Pattern 4: Database Transaction Pattern\n[25 lines of code...]\n\n### Pattern 5: Event-Driven Architecture\n[30 lines of code...]\n\n### Pattern 6: Caching Strategy\n[20 lines of code...]\n\n[10 more patterns, 200+ total lines]\n```\n\n**After (in SKILL.md - minimal reference):**\n```markdown\n## Common Patterns\n\nQuick reference to implementation patterns:\n- Authentication Flow - Token-based auth with refresh\n- Error Handling - Retry logic with exponential backoff\n- Data Validation - Schema-based validation\n- Database Transactions - ACID-compliant patterns\n- Event-Driven - Event sourcing and CQRS\n- Caching - Multi-level cache strategies\n\n**Complete pattern library**: [REFERENCE.md](REFERENCE.md#pattern-library-complete)\n\n**Quick example:**\n\\`\\`\\`typescript\n// Retry pattern\nconst result = await withRetry(() => fetchData());\n\\`\\`\\`\n```\n\n**Savings**: 200+ lines ‚Üí 18 lines (91% reduction, ~3,640 tokens saved)\n\n**When to apply:**\n- Multiple code patterns >15 lines each\n- Pattern collection >100 lines total\n- Detailed explanations for each pattern\n- More than 5 distinct patterns\n\n---\n\n### Pattern 3: Extract Troubleshooting\n\n**Before (in SKILL.md - consuming tokens):**\n```markdown\n## Troubleshooting\n\n### Issue 1: Connection Timeout\n\n**Symptoms**:\n- Requests hanging for extended periods\n- Socket timeout errors after 30-60 seconds\n- Intermittent connection failures\n- Error messages: \"ETIMEDOUT\", \"ECONNREFUSED\"\n\n**Causes**:\n1. Network connectivity issues\n2. Firewall blocking outbound connections\n3. Server overload or not responding\n4. DNS resolution failures\n5. Incorrect host/port configuration\n\n**Solutions**:\n1. Verify network connectivity:\n   \\`\\`\\`bash\n   ping api.example.com\n   telnet api.example.com 443\n   \\`\\`\\`\n\n2. Check firewall rules:\n   \\`\\`\\`bash\n   # Linux\n   sudo iptables -L -n\n   # macOS\n   sudo pfctl -sr\n   \\`\\`\\`\n\n3. Test DNS resolution:\n   \\`\\`\\`bash\n   nslookup api.example.com\n   dig api.example.com\n   \\`\\`\\`\n\n4. Verify configuration:\n   \\`\\`\\`typescript\n   console.log('Host:', process.env.API_HOST);\n   console.log('Port:', process.env.API_PORT);\n   \\`\\`\\`\n\n5. Increase timeout values:\n   \\`\\`\\`typescript\n   const client = new ApiClient({\n     timeout: 60000, // 60 seconds\n     retries: 3\n   });\n   \\`\\`\\`\n\n6. Check server status:\n   \\`\\`\\`bash\n   curl -I https://api.example.com/health\n   \\`\\`\\`\n\n**Prevention**:\n- Implement connection pooling\n- Set appropriate timeout values\n- Use health checks before critical operations\n- Monitor network latency\n- Configure retry logic with exponential backoff\n\n### Issue 2: Authentication Failure\n\n**Symptoms**:\n- 401 Unauthorized responses\n- \"Invalid credentials\" errors\n- Token expired messages\n- Access denied errors\n\n**Causes**:\n1. Incorrect credentials\n2. Expired authentication tokens\n3. Invalid API keys\n4. Clock skew issues\n5. Token refresh failures\n\n**Solutions**:\n[Similar detailed breakdown...]\n\n### Issue 3: Rate Limiting\n\n**Symptoms**:\n- 429 Too Many Requests responses\n- Throttling errors\n- Requests being rejected\n\n**Causes**:\n[Detailed causes...]\n\n**Solutions**:\n[Detailed solutions...]\n\n[20 more issues with similar detail level, 300+ total lines]\n```\n\n**After (in SKILL.md - minimal reference):**\n```markdown\n## Troubleshooting\n\nCommon issues and quick fixes:\n1. Connection timeout ‚Üí Check network and increase timeout values\n2. Authentication failure ‚Üí Verify credentials and token expiration\n3. Rate limiting ‚Üí Implement backoff and request queuing\n4. Data validation errors ‚Üí Check input schema\n5. Performance issues ‚Üí Enable caching and optimize queries\n\n**Complete troubleshooting guide**: [REFERENCE.md](REFERENCE.md#troubleshooting-complete)\n\n**Quick diagnostics:**\n\\`\\`\\`bash\n# Check connectivity\ncurl -I https://api.example.com/health\n\\`\\`\\`\n```\n\n**Savings**: 300+ lines ‚Üí 18 lines (94% reduction, ~5,400 tokens saved)\n\n**When to apply:**\n- More than 5 troubleshooting scenarios\n- Detailed diagnostic steps >10 lines each\n- Multiple solutions per issue\n- Extensive prevention guidelines\n\n---\n\n### Pattern 4: Convert Code to Scripts\n\n**Before (in SKILL.md - consuming tokens):**\n```markdown\n## Configuration Validation\n\nUse this script to validate your complete configuration:\n\n\\`\\`\\`bash\n#!/bin/bash\nset -e\n\necho \"=========================================\"\necho \" Configuration Validation Script\"\necho \"=========================================\"\necho \"\"\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nNC='\\033[0m' # No Color\n\n# Check database connection\necho -n \"Checking database connection... \"\nif psql \"$DATABASE_URL\" -c \"SELECT 1\" > /dev/null 2>&1; then\n  echo -e \"${GREEN}‚úì${NC}\"\nelse\n  echo -e \"${RED}‚úó${NC}\"\n  echo \"Database connection failed. Check DATABASE_URL environment variable.\"\n  exit 1\nfi\n\n# Check Redis connection\necho -n \"Checking Redis connection... \"\nif redis-cli -u \"$REDIS_URL\" ping > /dev/null 2>&1; then\n  echo -e \"${GREEN}‚úì${NC}\"\nelse\n  echo -e \"${RED}‚úó${NC}\"\n  echo \"Redis connection failed. Check REDIS_URL environment variable.\"\n  exit 1\nfi\n\n# Validate API key\necho -n \"Validating API key... \"\nif [ -z \"$API_KEY\" ]; then\n  echo -e \"${RED}‚úó${NC}\"\n  echo \"API_KEY environment variable not set.\"\n  exit 1\nelse\n  echo -e \"${GREEN}‚úì${NC}\"\nfi\n\n# Check file permissions\necho -n \"Checking file permissions... \"\nif [ -r \"./config.json\" ] && [ -w \"./logs\" ]; then\n  echo -e \"${GREEN}‚úì${NC}\"\nelse\n  echo -e \"${RED}‚úó${NC}\"\n  echo \"Permission issues detected.\"\n  exit 1\nfi\n\n# Validate port availability\necho -n \"Checking port availability... \"\nif lsof -Pi :3000 -sTCP:LISTEN -t >/dev/null 2>&1; then\n  echo -e \"${YELLOW}‚ö†${NC} Port 3000 already in use\"\nelse\n  echo -e \"${GREEN}‚úì${NC}\"\nfi\n\necho \"\"\necho -e \"${GREEN}All checks passed!${NC}\"\n\\`\\`\\`\n\nRun this before starting your application to ensure everything is configured correctly.\n```\n\n**After (in SKILL.md - script reference only):**\n```markdown\n## Configuration Validation\n\nRun validation script to check your setup:\n\\`\\`\\`bash\nbash .claude/skills/skill-name/scripts/validate-config.sh\n\\`\\`\\`\n\nChecks database, Redis, API keys, permissions, and port availability.\n```\n\n**Create file**: `scripts/validate-config.sh` (with the actual script content)\n\n```bash\nchmod +x .claude/skills/skill-name/scripts/validate-config.sh\n```\n\n**Savings**: ~55 lines ‚Üí 7 lines (87% reduction, ~1,100 tokens saved)\n\n**Bonus**: Script code never enters context - only output is visible when Claude runs it\n\n**When to apply:**\n- Reusable scripts >20 lines\n- Diagnostic or validation tools\n- Configuration generators\n- Data transformation utilities\n- Setup or installation helpers\n\n---\n\n## Common Anti-Patterns\n\n### ‚ùå Anti-Pattern 1: Monolithic Skills\n\n**Problem**: Single SKILL.md file containing everything (1000-2000+ lines)\n\n**Example structure:**\n```\nskill-name/\n‚îî‚îÄ‚îÄ SKILL.md  (1500 lines)\n    ‚îú‚îÄ‚îÄ Purpose (10 lines)\n    ‚îú‚îÄ‚îÄ Quick Start (50 lines)\n    ‚îú‚îÄ‚îÄ API Documentation (300 lines)\n    ‚îú‚îÄ‚îÄ Examples (400 lines)\n    ‚îú‚îÄ‚îÄ Pattern Library (350 lines)\n    ‚îú‚îÄ‚îÄ Troubleshooting (250 lines)\n    ‚îî‚îÄ‚îÄ Advanced Topics (140 lines)\n```\n\n**Impact**:\n- **Token consumption**: ~22,500-30,000 tokens loaded every time skill triggers\n- **Navigation difficulty**: Hard to find specific information in large file\n- **Maintenance burden**: Changes require editing massive file\n- **Violates 500-line rule**: 3-4x over the limit\n- **Poor user experience**: Overwhelming amount of information at once\n\n**Solution**:\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md  (350 lines)\n‚îÇ   ‚îú‚îÄ‚îÄ Purpose (10 lines)\n‚îÇ   ‚îú‚îÄ‚îÄ Quick Start (50 lines)\n‚îÇ   ‚îú‚îÄ‚îÄ Common Patterns Summary (30 lines)\n‚îÇ   ‚îú‚îÄ‚îÄ Troubleshooting Summary (20 lines)\n‚îÇ   ‚îî‚îÄ‚îÄ References to detailed docs (10 lines)\n‚îú‚îÄ‚îÄ REFERENCE.md  (600 lines - API docs)\n‚îú‚îÄ‚îÄ EXAMPLES.md  (400 lines - code examples)\n‚îú‚îÄ‚îÄ PATTERNS.md  (350 lines - pattern library)\n‚îî‚îÄ‚îÄ TROUBLESHOOTING.md  (250 lines - debug guide)\n```\n\n**Result**: Only 350 lines (~5,250 tokens) loaded initially, detailed docs loaded on-demand\n\n---\n\n### ‚ùå Anti-Pattern 2: Incomplete References\n\n**Problem**: Reference files exist but aren't linked from main SKILL.md\n\n**Example SKILL.md:**\n```markdown\n## API Reference\n\nHere's how to use the API...\n\n[No mention of REFERENCE.md which contains complete API docs]\n```\n\n**File structure:**\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md  (mentions \"API Reference\" but no link)\n‚îú‚îÄ‚îÄ REFERENCE.md  (contains full API docs - orphaned!)\n‚îî‚îÄ‚îÄ EXAMPLES.md  (contains examples - never discovered!)\n```\n\n**Impact**:\n- **Wasted effort**: Reference files created but never used\n- **Poor discoverability**: Users don't know detailed docs exist\n- **Inconsistent info**: Main file may contradict reference files\n- **Claude can't access**: Without explicit file paths, Claude won't read them\n\n**Solution**:\n```markdown\n## API Reference\n\nQuick reference for common operations.\n\n**For complete API documentation**: [REFERENCE.md](REFERENCE.md#api-complete)\n**For usage examples**: [EXAMPLES.md](EXAMPLES.md#api-usage)\n\n### Quick Example\n\\`\\`\\`typescript\n// Basic usage\nconst result = await api.call();\n\\`\\`\\`\n```\n\n**Best practice**: Every reference file should be linked at least once from SKILL.md\n\n---\n\n### ‚ùå Anti-Pattern 3: Nested References\n\n**Problem**: References pointing to other references (>1 level deep)\n\n**Example**:\n```\nSKILL.md\n  ‚Üí \"See REFERENCE.md for details\"\n    ‚Üí REFERENCE.md: \"See ADVANCED.md for edge cases\"\n      ‚Üí ADVANCED.md: \"See DEEP_DIVE.md for implementation\"\n        ‚Üí DEEP_DIVE.md: [actual content]\n```\n\n**Impact**:\n- **Cognitive load**: Users must navigate multiple files to find information\n- **Navigation complexity**: Easy to get lost in reference chain\n- **Time waste**: Multiple file reads to reach actual content\n- **Frustration**: \"Just tell me the answer!\"\n\n**Solution**: Flat hierarchy (max 1 level)\n```\nSKILL.md\n  ‚Üí REFERENCE.md [complete reference]\n  ‚Üí EXAMPLES.md [all examples]\n  ‚Üí PATTERNS.md [all patterns]\n  ‚Üí TROUBLESHOOTING.md [all debugging info]\n```\n\n**Each reference file should be self-contained and comprehensive**\n\n---\n\n### ‚ùå Anti-Pattern 4: Sparse Frontmatter\n\n**Problem**: Minimal YAML description missing critical trigger keywords\n\n**Bad example:**\n```yaml\n---\nname: api-helper\ndescription: Helps with API development.\n---\n```\n\n**Impact**:\n- **Poor discoverability**: Skill won't trigger when relevant\n- **Missed opportunities**: Users manually invoke instead of auto-suggest\n- **Wasted potential**: Skill could help but isn't activated\n- **Low utilization**: Skill sits unused despite being valuable\n\n**Good example:**\n```yaml\n---\nname: api-development\ndescription: API development guidance for REST, GraphQL, and gRPC APIs including Express, Fastify, Node.js, TypeScript, authentication, authorization, JWT, OAuth, rate limiting, error handling, validation, middleware, routing, database integration, testing, documentation, OpenAPI, Swagger, and deployment. Use when building APIs, creating endpoints, handling requests, implementing auth, validating input, error handling, or working with HTTP, REST, GraphQL, or gRPC.\n---\n```\n\n**What to include in description**:\n- Technologies (Express, GraphQL, JWT, etc.)\n- Use cases (building APIs, authentication, validation)\n- Actions (creating, implementing, handling, validating)\n- Concepts (REST, middleware, error handling, routing)\n- Related terms (HTTP, endpoints, authorization, OpenAPI)\n\n**Aim for 500-1000 characters** to maximize trigger coverage while staying under 1024 char limit\n\n---\n\n### ‚ùå Anti-Pattern 5: Code as Documentation\n\n**Problem**: Large executable scripts embedded in markdown instead of separate files\n\n**Bad example in SKILL.md:**\n```markdown\n## Database Migration Script\n\n\\`\\`\\`bash\n#!/bin/bash\n# Complete migration script (100+ lines)\n\nset -e\n\necho \"Starting migration...\"\n\n# [100+ lines of migration logic]\n# [Connection setup]\n# [Transaction handling]\n# [Rollback logic]\n# [Validation]\n# [Cleanup]\n\necho \"Migration complete\"\n\\`\\`\\`\n\nCopy this script to your project and run it.\n```\n\n**Impact**:\n- **Token waste**: 100+ lines of script code in context every time\n- **Not reusable**: Can't execute directly, must copy-paste\n- **Hard to maintain**: Updates require editing SKILL.md\n- **Version control issues**: Script and documentation coupled\n\n**Good example in SKILL.md:**\n```markdown\n## Database Migration\n\nRun migration script:\n\\`\\`\\`bash\nbash .claude/skills/skill-name/scripts/migrate-db.sh\n\\`\\`\\`\n\nScript handles:\n- Connection validation\n- Transaction management\n- Automatic rollback on failure\n- Post-migration verification\n```\n\n**Script in `scripts/migrate-db.sh`:**\n- Executable directly by Claude via bash command\n- Code never enters context\n- Only script output visible\n- Easy to maintain and version\n\n---\n\n## Complete Migration Workflow\n\n### Phase 1: Discovery and Analysis\n\n**Step 1.1: Identify candidate skills**\n```bash\n# Find all skills\nfind .claude/skills -name \"SKILL.md\" -type f\n\n# Check sizes\nfor skill in .claude/skills/*/SKILL.md; do\n  lines=$(wc -l < \"$skill\")\n  name=$(basename $(dirname \"$skill\"))\n  echo \"$lines lines - $name\"\ndone | sort -rn\n\n# Focus on skills >500 lines\n```\n\n**Step 1.2: Analyze content structure**\n```bash\n# Extract section headers\ngrep \"^##\" .claude/skills/skill-name/SKILL.md\n\n# Count lines per section\nawk '/^## Section1/,/^## Section2/{count++} END{print count}' SKILL.md\n```\n\n**Step 1.3: Identify extraction candidates**\n\nSections to extract if >30 lines:\n- API documentation\n- Code examples (multiple >20 lines)\n- Pattern libraries\n- Troubleshooting guides\n- Reference tables\n- Configuration details\n- Advanced topics\n\n**Step 1.4: Create optimization plan**\n\nDocument:\n- Current line count\n- Target line count (<500)\n- Sections to extract\n- New reference files needed\n- Scripts to create\n- Estimated token savings\n\n---\n\n### Phase 2: Structure Planning\n\n**Step 2.1: Design file hierarchy**\n\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md              # <500 lines - core workflow\n‚îú‚îÄ‚îÄ REFERENCE.md          # API docs, detailed reference\n‚îú‚îÄ‚îÄ EXAMPLES.md           # Code examples\n‚îú‚îÄ‚îÄ PATTERNS.md           # Pattern library (if needed)\n‚îú‚îÄ‚îÄ TROUBLESHOOTING.md    # Debug guide (if needed)\n‚îî‚îÄ‚îÄ scripts/              # Executable utilities\n    ‚îú‚îÄ‚îÄ validate.sh\n    ‚îî‚îÄ‚îÄ setup.sh\n```\n\n**Step 2.2: Plan content distribution**\n\n**SKILL.md should contain:**\n- Purpose and scope (1-2 paragraphs)\n- When to use (bulleted list)\n- Quick start workflow (5-10 steps)\n- Common patterns (summaries only)\n- Troubleshooting (summaries only)\n- Cross-references to detailed docs\n\n**Reference files should contain:**\n- Complete API documentation\n- Detailed examples with explanations\n- Comprehensive pattern library\n- Full troubleshooting procedures\n- Advanced topics and edge cases\n\n**Scripts should contain:**\n- Reusable validation/setup logic\n- Configuration generators\n- Diagnostic tools\n- Data transformation utilities\n\n---\n\n### Phase 3: Implementation\n\n**Step 3.1: Create reference file structure**\n```bash\ncd .claude/skills/skill-name\n\n# Create reference files\ntouch REFERENCE.md EXAMPLES.md\nmkdir -p scripts\n\n# Add table of contents templates\ncat > REFERENCE.md <<'EOF'\n# [Skill Name] Reference\n\nComplete reference documentation.\n\n## Table of Contents\n- [Section 1](#section-1)\n- [Section 2](#section-2)\n\n## Section 1\n...\nEOF\n```\n\n**Step 3.2: Extract content systematically**\n\nProcess for each section:\n1. **Copy section to reference file** (preserve formatting)\n2. **Replace in SKILL.md with summary + link**\n3. **Verify link path is correct**\n4. **Remove detailed content from SKILL.md**\n5. **Test navigation works**\n\n**Example extraction:**\n```bash\n# Before: Section in SKILL.md (80 lines)\n## API Reference\n[80 lines of detailed API docs]\n\n# After: Summary in SKILL.md (5 lines)\n## API Reference\n\nQuick reference: `processData()`, `validateInput()`, `formatOutput()`\n\n**Complete API docs**: [REFERENCE.md](REFERENCE.md#api-reference)\n\n# Content moved to REFERENCE.md\n## API Reference\n\n[Original 80 lines of detailed API docs]\n```\n\n**Step 3.3: Convert scripts**\n```bash\n# Extract embedded scripts\n# Find scripts in SKILL.md\ngrep -A 50 '```bash' SKILL.md\n\n# Create script file\ncat > scripts/validate.sh <<'EOF'\n#!/bin/bash\n[script content]\nEOF\n\n# Make executable\nchmod +x scripts/validate.sh\n\n# Replace in SKILL.md\n\\`\\`\\`bash\nbash .claude/skills/skill-name/scripts/validate.sh\n\\`\\`\\`\n```\n\n**Step 3.4: Update cross-references**\n\nEnsure all references use relative paths:\n```markdown\n‚úÖ Correct: [Details](REFERENCE.md#section)\n‚úÖ Correct: [Examples](EXAMPLES.md#example-1)\n‚úÖ Correct: Run `scripts/validate.sh`\n\n‚ùå Wrong: [Details](../skill-name/REFERENCE.md#section)\n‚ùå Wrong: [Examples](/full/path/EXAMPLES.md)\n```\n\n---\n\n### Phase 4: Optimization\n\n**Step 4.1: Trim remaining content**\n\nAfter extractions, optimize what remains:\n- Remove verbose explanations ‚Üí concise bullets\n- Combine related bullet points\n- Use tables instead of paragraphs\n- Remove redundant examples\n- Condense repeated concepts\n\n**Before:**\n```markdown\nThe API provides several methods for data processing. The first method is processData which takes input and returns processed output. This method is very useful when you need to transform data. The second method is validateInput which checks if the input meets requirements. This is important to run before processing.\n```\n\n**After:**\n```markdown\nAPI methods:\n- `processData()` - Transform input data\n- `validateInput()` - Check input requirements\n```\n\n**Step 4.2: Optimize frontmatter**\n\nExtract all key terms from content:\n```bash\n# Extract common terms\ngrep -o '\\*\\*[^*]*\\*\\*' SKILL.md | sort | uniq\n\n# Build description with:\n# - Technology names\n# - Action verbs\n# - Use cases\n# - File types\n# - Related concepts\n```\n\n**Step 4.3: Add navigation aids**\n\nIf SKILL.md is still >300 lines, add table of contents:\n```markdown\n# Skill Name\n\n## Table of Contents\n- [Quick Start](#quick-start)\n- [Common Patterns](#common-patterns)\n- [Troubleshooting](#troubleshooting)\n- [Reference Docs](#reference-docs)\n\n## Quick Start\n...\n```\n\nAdd to reference files >100 lines:\n```markdown\n# Reference Documentation\n\n## Table of Contents\n[...]\n```\n\n---\n\n### Phase 5: Validation\n\n**Step 5.1: Verify line counts**\n```bash\n# Check SKILL.md is under 500\nwc -l .claude/skills/skill-name/SKILL.md\n\n# Calculate total lines\nfind .claude/skills/skill-name -name \"*.md\" -exec wc -l {} \\; | awk '{sum+=$1} END{print sum, \"total lines\"}'\n\n# Before/after comparison\necho \"Before: $BEFORE_LINES lines\"\necho \"After: $AFTER_LINES lines\"\necho \"Saved: $((BEFORE_LINES - AFTER_LINES)) lines (~$((( BEFORE_LINES - AFTER_LINES) * 20)) tokens)\"\n```\n\n**Step 5.2: Test links**\n```bash\n# Extract all markdown links\ngrep -o '\\[.*\\](.*\\.md#.*)' SKILL.md\n\n# Verify files exist\nfor file in REFERENCE.md EXAMPLES.md PATTERNS.md; do\n  [ -f \"$file\" ] && echo \"‚úì $file\" || echo \"‚úó $file missing\"\ndone\n\n# Verify anchors exist\n# (manually check that #section-name anchors match headers)\n```\n\n**Step 5.3: Validate content completeness**\n\nChecklist:\n- [ ] All original information preserved (in SKILL.md or reference files)\n- [ ] No broken links\n- [ ] All reference files linked from SKILL.md\n- [ ] Scripts are executable and work correctly\n- [ ] Table of contents accurate for files >100 lines\n- [ ] YAML frontmatter includes all trigger keywords\n\n**Step 5.4: Test with real usage**\n\nManually test skill:\n1. Trigger skill with typical prompt\n2. Verify SKILL.md provides sufficient quick reference\n3. Navigate to reference file for details\n4. Verify reference file has complete information\n5. Test scripts execute correctly\n\n---\n\n### Phase 6: Documentation\n\n**Step 6.1: Update skill documentation**\n\nIf migration involved significant restructuring, document changes:\n```markdown\n# Skill Name\n\n## Recent Updates\n- **2025-11-09**: Optimized for progressive disclosure\n  - Reduced SKILL.md from 850 to 420 lines\n  - Created REFERENCE.md for API docs\n  - Created EXAMPLES.md for code examples\n  - Extracted scripts to scripts/ directory\n  - Estimated token savings: ~8,600 tokens\n```\n\n**Step 6.2: Share patterns learned**\n\nDocument any unique optimization techniques discovered:\n- Novel extraction patterns\n- Effective summary techniques\n- Script conversion strategies\n- Navigation improvements\n\n---\n\n## Advanced Optimization Techniques\n\n### Technique 1: Conditional Content Loading\n\n**Concept**: Structure content so advanced/optional sections are only loaded when explicitly needed\n\n**Implementation pattern:**\n```markdown\n## Feature Overview\n\nBasic usage covers 80% of use cases.\n\n**Quick start:**\n\\`\\`\\`typescript\nbasicUsage();\n\\`\\`\\`\n\n**Advanced scenarios** (for edge cases and complex requirements):\n- Multi-tenant configuration ‚Üí [ADVANCED.md](ADVANCED.md#multi-tenant)\n- Custom authentication ‚Üí [ADVANCED.md](ADVANCED.md#custom-auth)\n- Performance tuning ‚Üí [ADVANCED.md](ADVANCED.md#performance)\n- Enterprise deployment ‚Üí [ADVANCED.md](ADVANCED.md#enterprise)\n```\n\n**Benefits**:\n- Most users never load advanced content\n- Advanced users can easily find detailed docs\n- Clear separation of concerns\n- Reduces cognitive load for beginners\n\n**When to use**:\n- Content has distinct basic vs advanced levels\n- Advanced content is >30% of total\n- Most users won't need advanced features\n\n---\n\n### Technique 2: Layered Examples\n\n**Concept**: Progressive complexity in examples\n\n**Implementation:**\n```markdown\n## Examples\n\n### Level 1: Minimal Example (most common)\n\\`\\`\\`typescript\nconst result = await api.call({ id: '123' });\n\\`\\`\\`\n\n### Level 2: Production Example\nProduction-ready with error handling: [EXAMPLES.md](EXAMPLES.md#production)\n\n### Level 3: Enterprise Example\nComplete implementation with auth, retry, logging: [EXAMPLES.md](EXAMPLES.md#enterprise)\n```\n\n**In EXAMPLES.md:**\n```markdown\n## Production Example\n\n\\`\\`\\`typescript\nasync function callApi(id: string) {\n  try {\n    return await api.call({ id });\n  } catch (error) {\n    logger.error('API call failed', { id, error });\n    throw error;\n  }\n}\n\\`\\`\\`\n\n## Enterprise Example\n\n\\`\\`\\`typescript\n// [50+ lines of enterprise-grade implementation]\n\\`\\`\\`\n```\n\n**Benefits**:\n- Beginners see simple examples immediately\n- Advanced users can access complex examples\n- Gradual learning curve\n- SKILL.md stays minimal\n\n---\n\n### Technique 3: Executable Documentation\n\n**Concept**: Scripts that both execute and document behavior\n\n**Example script**: `scripts/check-setup.sh`\n```bash\n#!/bin/bash\n# Diagnostic script that explains what it's checking\n\necho \"=== Setup Validation ===\"\necho \"\"\n\necho \"[1/5] Checking Node.js version...\"\nnode_version=$(node -v)\necho \"       Found: $node_version\"\nif [[ \"$node_version\" =~ v1[89]|v2[0-9] ]]; then\n  echo \"       ‚úì Node.js version compatible\"\nelse\n  echo \"       ‚úó Node.js 18+ required\"\n  exit 1\nfi\n\necho \"\"\necho \"[2/5] Checking package manager...\"\nif command -v pnpm >/dev/null 2>&1; then\n  echo \"       ‚úì pnpm installed\"\nelse\n  echo \"       ‚úó pnpm not found - install with: npm install -g pnpm\"\n  exit 1\nfi\n\necho \"\"\necho \"[3/5] Checking environment variables...\"\nrequired_vars=(\"DATABASE_URL\" \"REDIS_URL\" \"API_KEY\")\nfor var in \"${required_vars[@]}\"; do\n  if [ -z \"${!var}\" ]; then\n    echo \"       ‚úó $var not set\"\n    missing=true\n  else\n    echo \"       ‚úì $var configured\"\n  fi\ndone\n[[ -z \"$missing\" ]] || exit 1\n\necho \"\"\necho \"[4/5] Checking database connection...\"\nif psql \"$DATABASE_URL\" -c \"SELECT 1\" >/dev/null 2>&1; then\n  echo \"       ‚úì Database accessible\"\nelse\n  echo \"       ‚úó Cannot connect to database\"\n  exit 1\nfi\n\necho \"\"\necho \"[5/5] Checking file permissions...\"\nif [ -w \"./logs\" ]; then\n  echo \"       ‚úì Write permissions OK\"\nelse\n  echo \"       ‚úó Cannot write to ./logs directory\"\n  exit 1\nfi\n\necho \"\"\necho \"‚úÖ All checks passed! Ready to start.\"\n```\n\n**In SKILL.md:**\n```markdown\n## Setup Validation\n\nVerify your environment is configured correctly:\n\\`\\`\\`bash\nbash .claude/skills/skill-name/scripts/check-setup.sh\n\\`\\`\\`\n\nChecks Node.js version, package manager, environment variables, database connection, and permissions.\n```\n\n**Benefits**:\n- Self-documenting (output explains what's being checked)\n- Executable (Claude can run it directly)\n- Zero token cost (code doesn't enter context)\n- Reusable (can run multiple times)\n- Maintainable (script separate from docs)\n\n---\n\n### Technique 4: Tabular Compression\n\n**Concept**: Use tables to compress information\n\n**Before (verbose list - 20 lines):**\n```markdown\n## Configuration Options\n\n### Option: timeout\n- Type: number\n- Default: 30000\n- Description: Request timeout in milliseconds\n- Valid range: 1000-300000\n\n### Option: retries\n- Type: number\n- Default: 3\n- Description: Number of retry attempts\n- Valid range: 0-10\n\n[More options...]\n```\n\n**After (table - 8 lines):**\n```markdown\n## Configuration Options\n\n| Option | Type | Default | Range | Description |\n|--------|------|---------|-------|-------------|\n| timeout | number | 30000 | 1000-300000 | Request timeout (ms) |\n| retries | number | 3 | 0-10 | Retry attempts |\n| maxSize | number | 1048576 | 1024-10485760 | Max payload size (bytes) |\n| cache | boolean | true | - | Enable response caching |\n```\n\n**Savings**: 20 lines ‚Üí 8 lines (60% reduction)\n\n**When to use**:\n- Structured data (configurations, options, parameters)\n- Repetitive format across multiple items\n- Quick reference needed\n- Space constraints\n\n---\n\n### Technique 5: Smart Chunking\n\n**Concept**: Group related small sections instead of individual extraction\n\n**Before (scattered references):**\n```markdown\n## Topic A\nBrief content...\n**Details**: [REF.md](REF.md#topic-a)\n\n## Topic B\nBrief content...\n**Details**: [REF.md](REF.md#topic-b)\n\n## Topic C\nBrief content...\n**Details**: [REF.md](REF.md#topic-c)\n```\n\n**After (grouped):**\n```markdown\n## Related Topics\n\nQuick overview:\n- **Topic A**: Brief summary\n- **Topic B**: Brief summary\n- **Topic C**: Brief summary\n\n**Complete documentation**: [REFERENCE.md](REFERENCE.md#related-topics)\n```\n\n**Benefits**:\n- Fewer cross-references to manage\n- Better narrative flow\n- Easier navigation\n- Less repetitive linking\n\n---\n\n## Measurement & Validation\n\n### Token Estimation Methods\n\n**Method 1: Line-based estimation**\n```bash\n# Count lines\nlines=$(wc -l < SKILL.md)\n\n# Estimate tokens (conservative: 20 tokens/line, aggressive: 15 tokens/line)\ntokens_conservative=$((lines * 20))\ntokens_aggressive=$((lines * 15))\n\necho \"Estimated tokens: $tokens_aggressive - $tokens_conservative\"\n```\n\n**Method 2: Character-based estimation**\n```bash\n# Count characters\nchars=$(wc -m < SKILL.md)\n\n# Estimate tokens (rough: 1 token ‚âà 4 characters)\ntokens=$((chars / 4))\n\necho \"Estimated tokens: $tokens\"\n```\n\n**Method 3: Word-based estimation**\n```bash\n# Count words\nwords=$(wc -w < SKILL.md)\n\n# Estimate tokens (rough: 1 token ‚âà 0.75 words)\ntokens=$((words * 4 / 3))\n\necho \"Estimated tokens: $tokens\"\n```\n\n**Reality check**: Actual token count varies by content type\n- Code: ~25-30 tokens/line\n- Markdown text: ~15-20 tokens/line\n- Tables: ~10-15 tokens/line\n- Comments: ~12-18 tokens/line\n\n---\n\n### Before/After Analysis\n\n**Comprehensive comparison script:**\n```bash\n#!/bin/bash\n# optimization-metrics.sh\n\nSKILL_NAME=$1\n\necho \"Optimization Metrics for $SKILL_NAME\"\necho \"======================================\"\n\n# Before metrics (from git history or backup)\nBEFORE_LINES=$(git show HEAD~1:.claude/skills/$SKILL_NAME/SKILL.md | wc -l)\nBEFORE_CHARS=$(git show HEAD~1:.claude/skills/$SKILL_NAME/SKILL.md | wc -m)\n\n# After metrics (current)\nAFTER_LINES=$(wc -l < .claude/skills/$SKILL_NAME/SKILL.md)\nAFTER_CHARS=$(wc -m < .claude/skills/$SKILL_NAME/SKILL.md)\n\n# Calculate savings\nLINE_SAVINGS=$((BEFORE_LINES - AFTER_LINES))\nCHAR_SAVINGS=$((BEFORE_CHARS - AFTER_CHARS))\nTOKEN_SAVINGS=$((LINE_SAVINGS * 20))  # Conservative estimate\n\n# Calculate percentages\nLINE_PCT=$((LINE_SAVINGS * 100 / BEFORE_LINES))\nCHAR_PCT=$((CHAR_SAVINGS * 100 / BEFORE_CHARS))\n\necho \"\"\necho \"Lines:    $BEFORE_LINES ‚Üí $AFTER_LINES (saved $LINE_SAVINGS, ${LINE_PCT}%)\"\necho \"Chars:    $BEFORE_CHARS ‚Üí $AFTER_CHARS (saved $CHAR_SAVINGS, ${CHAR_PCT}%)\"\necho \"Tokens:   ~$((BEFORE_LINES * 20)) ‚Üí ~$((AFTER_LINES * 20)) (saved ~$TOKEN_SAVINGS)\"\necho \"\"\n\n# New reference files\necho \"New reference files:\"\nfor file in .claude/skills/$SKILL_NAME/*.md; do\n  if [ \"$file\" != \".claude/skills/$SKILL_NAME/SKILL.md\" ]; then\n    lines=$(wc -l < \"$file\")\n    name=$(basename \"$file\")\n    echo \"  - $name: $lines lines\"\n  fi\ndone\n\necho \"\"\necho \"Total documentation lines: $(find .claude/skills/$SKILL_NAME -name \"*.md\" -exec wc -l {} + | tail -1 | awk '{print $1}')\"\n```\n\n**Usage:**\n```bash\nbash optimization-metrics.sh skill-name\n```\n\n---\n\n### Quality Validation Checklist\n\nAfter optimization, verify quality hasn't degraded:\n\n**Content Integrity:**\n- [ ] All original information preserved\n- [ ] No loss of critical details\n- [ ] Examples still complete and correct\n- [ ] No broken workflows or procedures\n\n**Navigation:**\n- [ ] All cross-references work\n- [ ] Reference files are discoverable\n- [ ] Table of contents accurate\n- [ ] Clear path from overview to details\n\n**Usability:**\n- [ ] SKILL.md provides sufficient quick reference\n- [ ] Common use cases covered in main file\n- [ ] Advanced topics clearly marked\n- [ ] Scripts executable and functional\n\n**Technical:**\n- [ ] SKILL.md < 500 lines\n- [ ] YAML description < 1024 chars\n- [ ] All trigger keywords included\n- [ ] File hierarchy is flat (max 1 level)\n- [ ] Scripts have proper permissions (chmod +x)\n\n**Performance:**\n- [ ] Reduced token consumption\n- [ ] Faster initial load\n- [ ] Reference files load only when needed\n- [ ] No duplicate content\n\n---\n\n### Success Metrics\n\n**Quantitative:**\n- Line count reduction: Target >50%\n- Token savings: Target >5,000 tokens\n- File count: 3-5 organized files better than 1 monolithic\n- Load time: Faster initial context load\n\n**Qualitative:**\n- User feedback: Easier to navigate?\n- Claude feedback: More relevant?\n- Maintenance: Easier to update?\n- Discoverability: Better trigger rate?\n\n**Track over time:**\n```bash\n# Create metrics log\ncat >> .claude/skills/optimization-log.txt <<EOF\n$(date): Optimized $SKILL_NAME\n  Before: $BEFORE_LINES lines\n  After: $AFTER_LINES lines\n  Savings: $TOKEN_SAVINGS tokens (~${LINE_PCT}%)\n  Files: SKILL.md, REFERENCE.md, EXAMPLES.md\nEOF\n```\n\n---\n\n**End of Reference Documentation**\n\nFor quick reference and workflows, see main [SKILL.md](SKILL.md)\n"
      }
    }
  }
];

// Legacy export for compatibility (without content)
export const toolsBasic: Tool[] = tools.map(tool => {
  const { content, installation, repository, files, hookConfig, settingsJson, requirements, setup, ...basicTool } = tool;
  return basicTool;
});
